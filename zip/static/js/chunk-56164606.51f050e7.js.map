{"version":3,"sources":["webpack:///./src/assets/media/common/2.mp3","webpack:///./src/assets/images/cardMove.gif","webpack:///./src/utils/media.js","webpack:///./src/assets/media/common/3.mp3","webpack:///./src/view/public/before-work/identify-card-page.vue?9026","webpack:///./src/assets/images/cardno_bg.png","webpack:///./src/components/idNumber.vue?c3a8","webpack:///./src/service/human/people.js","webpack:///./src/assets/media/common/2-0.mp3","webpack:///./src/assets/images/cardnot_bg.png","webpack:///./src/view/public/before-work/identify-card-page.vue?4f0e","webpack:///./src/components/idNumber.vue?a0a1","webpack:///src/components/idNumber.vue","webpack:///./src/components/idNumber.vue?3152","webpack:///./src/components/idNumber.vue","webpack:///src/view/public/before-work/identify-card-page.vue","webpack:///./src/view/public/before-work/identify-card-page.vue?c7a7","webpack:///./src/view/public/before-work/identify-card-page.vue"],"names":["module","exports","playAudio","mp3","audio","Audio","src","isCanPlay","oncanplaythrough","timeId","play","currentTime","setTimeout","pause","clearTimeout","destroy","sendCardMessage","params","window","options","demo","Promise","resolve","code","result","userRecognitionId","status","timeElapsed","timestamp","request","ajax","checkStatusByUerRecognitionIdAndIdNum","liveFaceRecognition","sendWork","getPhoneCode","avlidPhoneCode","noCrimeGetVerifyCode","noCrimeVerifyCode","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","currentState","disableReadCard","readComplete","_e","attrs","cardNoBg","cardMove","domProps","_s","tips","disableInput","cardNotBg","disableInputName","ref","getIdentifyName","getIdentifyNum","class","show","tipShowFlag","generateCard","identifyCard","getIdentifyCardImg","$store","state","common","visibleTip","backMenu","CONSTANT","localContrast","changIdentifyState","sureIdentifyNum","identifyNumMatch","identifyNameMatch","staticRenderFns","isComplete","identify","partyName","gender","nation","year","mouth","day","certAddress","certNumber","certOrg","birthdayStart","birthdayEnd","baseImg","component"],"mappings":"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","file":"static/js/chunk-56164606.51f050e7.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/2.a25964a9.mp3\";","module.exports = __webpack_public_path__ + \"static/img/cardMove.37edf863.gif\";","export const playAudio = (mp3) => {\r\n    let audio = new Audio();\r\n    audio.src = mp3;\r\n    audio.isCanPlay = false;\r\n    audio.oncanplaythrough = () => {\r\n        audio.isCanPlay = true;\r\n    };\r\n    audio.timeId = null;\r\n    return {\r\n        play: () => {\r\n            if (audio) {\r\n                if (audio.isCanPlay) {\r\n                    audio.currentTime = 0;\r\n                    audio.play();\r\n                } else if (!audio.timeId) {\r\n                    audio.timeId = setTimeout(() => {\r\n                        audio.timeId = null;\r\n                        audio.play();\r\n                    }, 100);\r\n                }\r\n            }\r\n        },\r\n        pause: () => {\r\n            if (audio) {\r\n                if (audio.timeId) {\r\n                    clearTimeout(audio.timeId);\r\n                }\r\n                audio.pause();\r\n            }\r\n        },\r\n        destroy: () => {\r\n            if (audio) {\r\n                if (audio.timeId) {\r\n                    clearTimeout(audio.timeId);\r\n                }\r\n                audio.pause();\r\n                audio.pause();\r\n                audio.src = null;\r\n                audio.oncanplaythrough = null;\r\n                audio = null;\r\n            }\r\n        }\r\n    };\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/3.cedb8ce9.mp3\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./identify-card-page.vue?vue&type=style&index=0&id=30aaa776&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./identify-card-page.vue?vue&type=style&index=0&id=30aaa776&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"static/img/cardno_bg.6311445f.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idNumber.vue?vue&type=style&index=0&id=4af347d6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idNumber.vue?vue&type=style&index=0&id=4af347d6&lang=scss&scoped=true&\"","/**\r\n * 人管业务\r\n */\r\n\r\nimport request from '@/utils/request';\r\n\r\n/**\r\n 身份证识别信息\r\n */\r\nexport const sendCardMessage = (params) => {\r\n    if (window.options.demo) {\r\n        return new Promise(resolve => resolve({ code: '0', result: { userRecognitionId: 6223 }, status: 200, timeElapsed: 47, timestamp: 1594203029468 }));\r\n    }\r\n    return request.ajax('/ssm/humanMgt/saveUserRecognition', 'post', params);\r\n};\r\n\r\n/**\r\n 查看人管办理情况\r\n */\r\nexport const checkStatusByUerRecognitionIdAndIdNum = (params) => {\r\n    return request.ajax('/ssm/humanMgt/getUserRegisterStatus', 'get', params);\r\n};\r\n\r\n/**\r\n 人管办理人脸识别成功后\r\n */\r\nexport const liveFaceRecognition = (params) => {\r\n    return request.ajax('/ssm/humanMgt/faceRecognition', 'POST', params);\r\n};\r\n\r\n/**\r\n 人管 信息确认数据\r\n */\r\nexport const findUserById = (params) => {\r\n    return request.ajax('/ssm/humanMgt/getConfirmInfo', 'get', params);\r\n};\r\n\r\n/**\r\n 人管 提交业务\r\n */\r\nexport const sendWork = (params) => {\r\n    return request.ajax('/ssm/humanMgt/handleApply', 'post', params);\r\n};\r\n\r\n/**\r\n 人管 获取手机验证码\r\n */\r\nexport const getPhoneCode = (params) => {\r\n    return request.ajax('/ssm/humanMgt/getVerifyCode', 'post', params);\r\n};\r\n\r\n/**\r\n 人管 验证手机和验证码\r\n */\r\nexport const avlidPhoneCode = (params) => {\r\n    return request.ajax('/ssm/humanMgt/verifyCode', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 户籍识别接口\r\n */\r\nexport const noCrimeHouseholdRegisterCheck = (params) => {\r\n    return request.ajax('/ssm/humanMgt/householdRegisterCheck', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 人脸识别成功接口\r\n */\r\nexport const noCrimeFaceRecognition = (params) => {\r\n    return request.ajax('/ssm/humanMgt/noCriminalFaceRecognition', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 获取手机验证码\r\n */\r\nexport const noCrimeGetVerifyCode = (params) => {\r\n    return request.ajax('/ssm/humanMgt/getNoCriminalVerifyCode', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 校验验证码是否正确\r\n */\r\nexport const noCrimeVerifyCode = (params) => {\r\n    return request.ajax('/ssm/humanMgt/noCriminalVerifyCode', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 提交业务\r\n */\r\nexport const noCrimeSubmitMaterial = (params) => {\r\n    return request.ajax('/ssm/humanMgt/submitMaterial', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 提交邮寄信息\r\n */\r\nexport const noCrimeSubmitMailInfo = (params) => {\r\n    return request.ajax('/ssm/humanMgt/submitMailInfo', 'post', params);\r\n};\r\n\r\n/**\r\n 无犯罪 提交邮寄信息\r\n */\r\nexport const noCrimeApplySubmit = (params) => {\r\n    return request.ajax('/ssm/humanMgt/noCriminalApplySubmit', 'post', params);\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/2-0.7ef44ef0.mp3\";","module.exports = __webpack_public_path__ + \"static/img/cardnot_bg.43e5f3b8.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\"身份证信息识别\")]),(_vm.currentState === 1 && !_vm.disableReadCard && !_vm.readComplete)?_c('div',{staticClass:\"kd-content-wrapper carryingCard\"},[_c('img',{staticClass:\"staticCard\",attrs:{\"src\":_vm.cardNoBg,\"alt\":\"\"}}),_c('img',{staticClass:\"moveCard\",attrs:{\"src\":_vm.cardMove,\"alt\":\"\"}}),_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.tips)}})]):_vm._e(),(_vm.currentState === 0 && !_vm.disableInput && !_vm.readComplete)?_c('div',{staticClass:\"kd-content-wrapper notCarryingCard\"},[_c('img',{attrs:{\"src\":_vm.cardNotBg,\"alt\":\"\"}}),(!_vm.disableInputName)?_c('kd-full-input',{ref:\"identifyName\",staticClass:\"inputClass\",attrs:{\"placeholder\":\"请输入您的姓名\",\"watch-data\":_vm.getIdentifyName}}):_vm._e(),_c('kd-full-input',{ref:\"identifyNum\",staticClass:\"inputClass\",attrs:{\"ime-type\":3,\"placeholder\":\"请输入您的身份证号码\",\"watch-data\":_vm.getIdentifyNum,\"limit-number\":18}}),_c('div',{staticClass:\"checkTips hide\",class:{show:_vm.tipShowFlag}},[_vm._v(\"姓名或身份证格式不正确\")])],1):_vm._e(),(_vm.readComplete && _vm.generateCard)?_c('div',{staticClass:\"kd-content-wrapper complete\"},[_c('id-number',{attrs:{\"identify\":_vm.identifyCard,\"getIdentifyCardImg\":_vm.getIdentifyCardImg}})],1):_vm._e(),(!_vm.$store.state.common.visibleTip)?_c('div',{staticClass:\"kd-foot-button kd-foot-button-position\"},[_c('kd-button',{attrs:{\"icon\":\"kedaIcon-policework\",\"text\":\"返回首页\",\"type-class\":\"home\"}}),_c('kd-button',{attrs:{\"icon\":\"kedaIcon-zhongzhi\",\"text\":\"返回\",\"button-handle\":_vm.backMenu}}),(!_vm.CONSTANT.localContrast && !_vm.disableInput && _vm.currentState === 1)?_c('kd-button',{attrs:{\"text\":\"未携带身份证\",\"button-handle\":_vm.changIdentifyState}}):_vm._e(),(!_vm.disableReadCard && _vm.currentState === 0)?_c('kd-button',{attrs:{\"text\":\"已携带身份证\",\"button-handle\":_vm.changIdentifyState}}):_vm._e(),(_vm.currentState === 0 && _vm.disableInputName)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circlecheckoutline\",\"text\":\"确定\",\"button-handle\":_vm.sureIdentifyNum,\"but-disable\":!_vm.identifyNumMatch}}):_vm._e(),(_vm.currentState === 0 && !_vm.disableInputName)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circlecheckoutline\",\"text\":\"确定\",\"button-handle\":_vm.sureIdentifyNum,\"but-disable\":!_vm.identifyNumMatch && !_vm.identifyNameMatch}}):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isComplete)?_c('div',{ref:\"idWrap\",staticClass:\"idWrap\"},[_c('p',{staticClass:\"fontTop name\"},[_vm._v(_vm._s(_vm.identify.partyName))]),_c('p',{staticClass:\"fontTop sex\"},[_vm._v(_vm._s(_vm.identify.gender === 1 ? '男' : '女'))]),_c('p',{staticClass:\"fontTop mz\"},[_vm._v(_vm._s(_vm.identify.nation))]),_c('p',{staticClass:\"fontTop year\"},[_vm._v(_vm._s(_vm.year))]),_c('p',{staticClass:\"fontTop mounth\"},[_vm._v(_vm._s(_vm.mouth))]),_c('p',{staticClass:\"fontTop day\"},[_vm._v(_vm._s(_vm.day))]),_c('p',{staticClass:\"fontTop address\"},[_vm._v(_vm._s(_vm.identify.certAddress))]),_c('p',{staticClass:\"fontTop idNum\"},[_vm._v(_vm._s(_vm.identify.certNumber))]),_c('p',{staticClass:\"fontTop certOrg\"},[_vm._v(_vm._s(_vm.identify.certOrg))]),_c('p',{staticClass:\"fontTop time\"},[_vm._v(_vm._s(_vm.birthdayStart)+\"-\"+_vm._s(_vm.birthdayEnd))]),_c('canvas',{ref:\"currentCanvas\",staticClass:\"headPic\"})]):_vm._e(),(_vm.isComplete)?_c('img',{staticClass:\"imgWrap\",attrs:{\"src\":_vm.baseImg,\"alt\":\"\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div v-if=\"!isComplete\" class=\"idWrap\" ref=\"idWrap\">\r\n            <p class=\"fontTop name\">{{identify.partyName}}</p>\r\n            <p class=\"fontTop sex\">{{identify.gender === 1 ? '男' : '女'}}</p>\r\n            <p class=\"fontTop mz\">{{identify.nation}}</p>\r\n            <p class=\"fontTop year\">{{year}}</p>\r\n            <p class=\"fontTop mounth\">{{mouth}}</p>\r\n            <p class=\"fontTop day\">{{day}}</p>\r\n            <p class=\"fontTop address\">{{identify.certAddress}}</p>\r\n            <p class=\"fontTop idNum\">{{identify.certNumber}}</p>\r\n            <p class=\"fontTop certOrg\">{{identify.certOrg}}</p>\r\n            <p class=\"fontTop time\">{{birthdayStart}}-{{birthdayEnd}}</p>\r\n            <canvas ref=\"currentCanvas\" class=\"headPic\"></canvas>\r\n        </div>\r\n        <img v-if=\"isComplete\" class=\"imgWrap\" :src=\"baseImg\" alt=\"\"/>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\nimport html2canvas from 'html2canvas';\r\nimport { addPrefix, cancelPrefix } from '@/utils/tools';\r\nexport default {\r\n    name: 'idNumber',\r\n    data () {\r\n        return {\r\n            baseImg: '',\r\n            newHeadPic: '',\r\n            isComplete: false,\r\n            year: '',\r\n            mouth: '',\r\n            day: '',\r\n            birthdayStart: '',\r\n            birthdayEnd: ''\r\n        };\r\n    },\r\n    props: {\r\n        identify: { type: Object, default: () => {} },\r\n        getIdentifyCardImg: { type: Function }\r\n    },\r\n    async  mounted () {\r\n        this.year = this.$moment(this.identify.bornDay).format('YYYY');\r\n        this.mouth = this.$moment(this.identify.bornDay).format('MM');\r\n        this.day = this.$moment(this.identify.bornDay).format('DD');\r\n        this.birthdayStart = this.$moment(this.identify.effDate).format('YYYY.MM.DD');\r\n        this.birthdayEnd = this.$moment(this.identify.expDate).format('YYYY.MM.DD');\r\n\r\n        // if (this.birthdayEnd) {\r\n        //     return;\r\n        // }\r\n\r\n        console.log();\r\n        await this.fitch(102, 126, addPrefix(this.identify.identityPic));\r\n\r\n        const canvas = await html2canvas(this.$refs.idWrap, {\r\n            allowTaint: true,\r\n            useCORS: false\r\n        });\r\n        this.baseImg = canvas.toDataURL('image/jpeg', 1);\r\n        console.log('身份证照片', this.baseImg);\r\n        this.setIdentifyCardPicture(cancelPrefix(this.baseImg));\r\n        this.isComplete = true;\r\n        this.getIdentifyCardImg();\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['setIdentifyCardPicture']),\r\n        fitch (width, height, src) {\r\n            return new Promise(resolve => {\r\n                const img = document.createElement('img');\r\n                img.onload = () => {\r\n                    const c = this.$refs.currentCanvas;\r\n                    c.width = width;\r\n                    c.height = height;\r\n                    const ctx = c.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0);\r\n                    const imgDataUrl = ctx.getImageData(0, 0, width, height); // 获取像素点\r\n                    const data = imgDataUrl.data;\r\n                    for (let i = 0; i < data.length; i += 4) {\r\n                        // 得到 RGBA 通道的值\r\n                        const r = data[i];\r\n                        const g = data[i + 1];\r\n                        const b = data[i + 2];\r\n\r\n                        if (r === 254 && g === 254 && b === 254) {\r\n                            data[i + 3] = 0;\r\n                        }\r\n                    }\r\n                    ctx.putImageData(imgDataUrl, 0, 0);\r\n                    resolve();\r\n                };\r\n                img.src = src;\r\n            });\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .idWrap {\r\n        background: url(\"../assets/images/idNbumber/idNumberWrap.png\") no-repeat center;\r\n        width: 402PX;\r\n        height: 509PX;\r\n        position: relative;\r\n        .fontTop {\r\n            font-family: '黑体';\r\n            color: #000000;\r\n            position: absolute;\r\n            z-index: 9;\r\n            font-size: 15PX;\r\n        }\r\n        .name {\r\n            left: 80PX;\r\n            top: 40PX;\r\n        }\r\n        .sex {\r\n            left: 78PX;\r\n            top: 71PX;\r\n        }\r\n        .mz {\r\n            left: 167PX;\r\n            top: 71PX;\r\n        }\r\n        .year{\r\n            left: 78PX;\r\n            top: 100PX;\r\n        }\r\n        .mounth {\r\n            left: 137PX;\r\n            top: 100PX;\r\n        }\r\n        .day {\r\n            left: 174PX;\r\n            top: 100PX;\r\n        }\r\n        .address {\r\n            width: 168PX;\r\n            left: 80PX;\r\n            top: 132PX;\r\n        }\r\n        .idNum {\r\n            left: 141PX;\r\n            top: 205PX;\r\n            font-weight: bold;\r\n            font-size: 17px;\r\n        }\r\n        .headPic {\r\n            position: absolute;\r\n            z-index: 9;\r\n            left: 280PX;\r\n            top: 31PX;\r\n        }\r\n        .certOrg {\r\n            left: 163PX;\r\n            top: 434PX;\r\n        }\r\n        .time {\r\n            left: 163PX;\r\n            top: 466PX;\r\n        }\r\n    }\r\n\r\n    .imgWrap {\r\n        width: 402PX;\r\n        height: 509PX;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idNumber.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idNumber.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./idNumber.vue?vue&type=template&id=4af347d6&scoped=true&\"\nimport script from \"./idNumber.vue?vue&type=script&lang=js&\"\nexport * from \"./idNumber.vue?vue&type=script&lang=js&\"\nimport style0 from \"./idNumber.vue?vue&type=style&index=0&id=4af347d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4af347d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div>\r\n\t\t<div class=\"kd-page-title\">身份证信息识别</div>\r\n\t\t<div class=\"kd-content-wrapper carryingCard\" v-if=\"currentState === 1 && !disableReadCard && !readComplete\">\r\n\t\t\t<img class=\"staticCard\" :src=\"cardNoBg\" alt=\"\"/>\r\n\t\t\t<img class=\"moveCard\" :src=\"cardMove\" alt=\"\"/>\r\n\t\t\t<div class=\"text\" v-html=\"tips\"></div>\r\n\t\t</div>\r\n\t\t<div class=\"kd-content-wrapper notCarryingCard\" v-if=\"currentState === 0 && !disableInput && !readComplete\">\r\n\t\t\t<img :src=\"cardNotBg\" alt=\"\"/>\r\n\t\t\t<kd-full-input v-if=\"!disableInputName\" class=\"inputClass\" ref=\"identifyName\" placeholder=\"请输入您的姓名\" :watch-data=\"getIdentifyName\"/>\r\n\t\t\t<kd-full-input\r\n\t\t\t\t\t:ime-type=\"3\"\r\n\t\t\t\t\tclass=\"inputClass\"\r\n\t\t\t\t\tref=\"identifyNum\"\r\n\t\t\t\t\tplaceholder=\"请输入您的身份证号码\"\r\n\t\t\t\t\t:watch-data=\"getIdentifyNum\"\r\n\t\t\t\t\t:limit-number=\"18\"\r\n\t\t\t/>\r\n\t\t\t<div class=\"checkTips hide\" :class=\"{show:tipShowFlag}\">姓名或身份证格式不正确</div>\r\n\t\t</div>\r\n\t\t<div class=\"kd-content-wrapper complete\" v-if=\"readComplete && generateCard\">\r\n\t\t\t<id-number :identify=\"identifyCard\" :getIdentifyCardImg=\"getIdentifyCardImg\"></id-number>\r\n\t\t</div>\r\n\t\t<div class=\"kd-foot-button kd-foot-button-position\" v-if=\"!$store.state.common.visibleTip\">\r\n\t\t\t<kd-button icon=\"kedaIcon-policework\" text=\"返回首页\" type-class=\"home\"/>\r\n\t\t\t<kd-button icon=\"kedaIcon-zhongzhi\" text=\"返回\" :button-handle=\"backMenu\"/>\r\n\t\t\t<kd-button v-if=\"!CONSTANT.localContrast && !disableInput && currentState === 1\" text=\"未携带身份证\" :button-handle=\"changIdentifyState\"/>\r\n\t\t\t<kd-button v-if=\"!disableReadCard && currentState === 0\" text=\"已携带身份证\" :button-handle=\"changIdentifyState\"/>\r\n\t\t\t<kd-button\r\n\t\t\t\t\tv-if=\"currentState === 0 && disableInputName\"\r\n\t\t\t\t\ticon=\"kedaIcon-circlecheckoutline\"\r\n\t\t\t\t\ttext=\"确定\"\r\n\t\t\t\t\t:button-handle=\"sureIdentifyNum\"\r\n\t\t\t\t\t:but-disable=\"!identifyNumMatch\"\r\n\t\t\t/>\r\n\t\t\t<kd-button\r\n\t\t\t\t\tv-if=\"currentState === 0 && !disableInputName\"\r\n\t\t\t\t\ticon=\"kedaIcon-circlecheckoutline\"\r\n\t\t\t\t\ttext=\"确定\"\r\n\t\t\t\t\t:button-handle=\"sureIdentifyNum\"\r\n\t\t\t\t\t:but-disable=\"!identifyNumMatch && !identifyNameMatch\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport { sendCardMessage } from '@/service/human/people';\r\nimport { isHandle, keyboardHide } from '@/service/common';\r\nimport { wsSend, wsOnMessage } from '@/utils/websocket';\r\nimport { cardReadData } from '@/utils/tools';\r\nimport { LOCATION_ID, REGULAR_MATCH } from '@/constant/constant';\r\nimport cardNoBg from '@/assets/images/cardno_bg.png';\r\nimport cardMove from '@/assets/images/cardMove.gif';\r\nimport cardNotBg from '@/assets/images/cardnot_bg.png';\r\nimport { changeRouter } from '@/utils';\r\nimport audioTakeNo from '@/assets/media/common/2-0.mp3';\r\nimport audioTake from '@/assets/media/common/2.mp3';\r\nimport audioForget from '@/assets/media/common/3.mp3';\r\nimport { playAudio } from '@/utils/media';\r\nimport idNumber from '@/components/idNumber';\r\n\r\nexport default {\r\n    name: 'BeforeWorkIdentifyCardPage',\r\n    props: ['disableInput', 'disableReadCard', 'disableGetUserId', 'disableInputName', 'generateCard'],\r\n    components: { idNumber },\r\n    computed: {\r\n        ...mapState('common', {\r\n            binocularCamera: 'binocularCamera',\r\n            businessTypeCode: 'businessTypeCode'\r\n        }),\r\n        ...mapState('permanent', {\r\n            BUSINESS_EN_NAME_CODE: 'BUSINESS_EN_NAME_CODE',\r\n            BUSINESS_CODE_NAME: 'BUSINESS_CODE_NAME',\r\n            identifyWebSocket: 'identifyWebSocket',\r\n            lightWebSocket: 'lightWebSocket',\r\n            cardReaderType: 'cardReaderType'\r\n        })\r\n    },\r\n    data () {\r\n        return {\r\n            cardNoBg: cardNoBg,\r\n            cardMove: cardMove,\r\n            cardNotBg: cardNotBg,\r\n            loading: null,\r\n            currentState: 1, // 1：当前为读卡，0：当前为输入\r\n            tipShowFlag: false,\r\n            identifyCard: {},\r\n            identifyName: '',\r\n            identifyNameMatch: false,\r\n            identifyNum: '',\r\n            identifyNumMatch: false,\r\n            tips: '请将二代身份证放置身份证阅读区',\r\n            clockId: null,\r\n            generateComplete: false,\r\n            readComplete: false,\r\n            httpComplete: false\r\n        };\r\n    },\r\n    mounted () {\r\n        this.audioForget = playAudio(audioForget);\r\n        this.audioTake = playAudio(audioTake);\r\n        this.audioTakeNo = playAudio(audioTakeNo);\r\n\r\n        if (this.disableReadCard) {\r\n            this.audioForget.play();\r\n            this.currentState = 0;\r\n        } else if (this.disableInput) {\r\n            this.audioTakeNo.play();\r\n            this.currentState = 1;\r\n            this.startReadCard();\r\n        } else {\r\n            if (this.CONSTANT.localContrast) {\r\n                this.audioTakeNo.play();\r\n                this.currentState = 1;\r\n                this.startReadCard();\r\n            } else {\r\n                this.audioTake.play();\r\n                this.startReadCard();\r\n            }\r\n        }\r\n\r\n        this.setIdentifyCard({});\r\n        this.setBinocularCamera({});\r\n    },\r\n    beforeDestroy () {\r\n        clearTimeout(this.clockId);\r\n        wsOnMessage(this.identifyWebSocket, null);\r\n        wsSend(this.lightWebSocket, 'lightCtrl@B4:OFF');\r\n        keyboardHide();\r\n        this.audioTake.destroy();\r\n        this.audioForget.destroy();\r\n        this.audioTakeNo.destroy();\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['changeStep', 'changeTipPage', 'changeVisible', 'setIdentifyCard', 'setBinocularCamera', 'setUserRecognitionId']),\r\n        backMenu () {\r\n            this.changeVisible({\r\n                visibleSteps: false,\r\n                visibleTip: false,\r\n                visibleBusinessName: false,\r\n                visibleJurisdiction: false\r\n            });\r\n            changeRouter('/');\r\n        },\r\n        changIdentifyState () {\r\n            this.currentState = this.currentState ? 0 : 1;\r\n            if (this.currentState) {\r\n                this.audioForget.pause();\r\n                this.audioTake.play();\r\n                this.startReadCard();\r\n            } else {\r\n                this.audioTake.pause();\r\n                this.audioForget.play();\r\n                wsOnMessage(this.identifyWebSocket, null);\r\n                wsSend(this.lightWebSocket, 'lightCtrl@B4:OFF');\r\n            }\r\n        },\r\n        getIdentifyName (data) {\r\n            this.identifyName = data;\r\n            this.identifyNameMatch = REGULAR_MATCH.name.test(this.identifyName);\r\n        },\r\n        getIdentifyNum (data) {\r\n            this.identifyNum = data;\r\n            this.identifyNumMatch = REGULAR_MATCH.idNumber.test(this.identifyNum);\r\n        },\r\n        getIdentifyCardImg () {\r\n            this.generateComplete = true;\r\n            if (this.readComplete && this.httpComplete) {\r\n                this.changeStep('down');\r\n            }\r\n        },\r\n        async sureIdentifyNum () {\r\n            // if (this.disableReadCard && this.CONSTANT.location === LOCATION_ID.yinchuan) {\r\n            //     // 银川特殊处理\r\n            //     if (this.identifyNum.slice(0, 2) !== '64') {\r\n            //         this.changeTipPage({\r\n            //             message: '抱歉，您的身份证号非宁夏区域号码，请咨询户籍所在地派出所后办理！',\r\n            //             enableBack: true\r\n            //         });\r\n            //         return;\r\n            //     }\r\n            // }\r\n\r\n            this.identifyCard = cardReadData({ identifyNum: this.identifyNum, identifyName: this.identifyName }, 'Handwriting');\r\n            await this.saveUserInfo();\r\n        },\r\n        startReadCard () {\r\n            wsSend(this.lightWebSocket, 'lightCtrl@B4:ON');\r\n            wsOnMessage(this.identifyWebSocket, async (res) => {\r\n                if (res && res.code === 1) {\r\n                    console.log('身份证读卡器：', res);\r\n                    this.identifyCard = cardReadData(res.result, this.cardReaderType);\r\n\r\n                    if (this.BUSINESS_EN_NAME_CODE.idCardOverdue === this.businessTypeCode) { // 身份证处理三个月不能办理\r\n                        const warnText = `您的身份证有效期为${this.$moment(this.identifyCard.expDate).format('YYYY-MM-DD')}，请在有效期三个月内办理期满换证。`;\r\n                        if (this.identifyCard.expDate === '长期') {\r\n                            this.changeTipPage({ message: warnText });\r\n                            return false;\r\n                        }\r\n\r\n                        if (this.$moment().unix() < this.$moment(this.identifyCard.expDate).subtract('3', 'months').unix()) {\r\n                            this.changeTipPage({ message: warnText });\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    this.readComplete = true;\r\n                    if (!this.CONSTANT.isOlin) {\r\n                        this.loading = this.$loading.full('正在处理中，请稍后......');\r\n                    }\r\n                    await this.saveUserInfo();\r\n                } else {\r\n                    if (this.clockId) {\r\n                        clearTimeout(this.clockId);\r\n                        this.clockId = null;\r\n                    }\r\n                    this.clockId = setTimeout(() => {\r\n                        wsSend(this.identifyWebSocket, { directive: 'ReadIdCard' });\r\n                    }, 1000);\r\n                }\r\n            });\r\n            wsSend(this.identifyWebSocket, { directive: 'ReadIdCard' });\r\n        },\r\n        closeLoading () {\r\n            if (this.loading) {\r\n                this.loading.close();\r\n            }\r\n        },\r\n        async saveUserInfo () {\r\n            console.log('身份证信息：', this.identifyCard);\r\n            this.setIdentifyCard(this.identifyCard);\r\n            if (!this.disableGetUserId) {\r\n                const payload = {\r\n                    name: this.identifyCard.partyName,\r\n                    idNum: this.identifyCard.certNumber,\r\n                    idPhoto: this.identifyCard.identityPic,\r\n                    sex: this.identifyCard.gender,\r\n                    permanentAddress: this.identifyCard.certAddress,\r\n                    dateOfBirth: this.identifyCard.bornDay,\r\n                    begDate: this.identifyCard.effDate,\r\n                    endDate: this.identifyCard.expDate,\r\n                    nationCode: this.identifyCard.nationCode,\r\n                    nationName: this.identifyCard.nation,\r\n                    businessType: this.businessTypeCode,\r\n                    businessTypeName: this.BUSINESS_CODE_NAME[this.businessTypeCode]\r\n                };\r\n\r\n                const res = await sendCardMessage(payload);\r\n                if (res && res.code === '0') {\r\n                    this.setUserRecognitionId(res.result.userRecognitionId);\r\n                    await this.judgeNext();\r\n                } else if (res) {\r\n                    this.changeTipPage({ message: res.message });\r\n                }\r\n            } else {\r\n                this.changeStep('down');\r\n            }\r\n            this.closeLoading();\r\n            this.httpComplete = true;\r\n        },\r\n        async judgeNext () {\r\n            if (this.CONSTANT.location === LOCATION_ID.suzhou) {\r\n                const result = await isHandle({ // 判断能否继续办理业务\r\n                    idNum: this.identifyCard.certNumber,\r\n                    businessType: this.businessTypeCode\r\n                });\r\n                if (result && result.code === '0') {\r\n                    this.isReadAndJudgeNext();\r\n                } else if (result) {\r\n                    this.changeTipPage({ message: result.message });\r\n                }\r\n            } else {\r\n                this.isReadAndJudgeNext();\r\n            }\r\n        },\r\n        isReadAndJudgeNext () {\r\n            if (this.readComplete) { // 若是读卡，需要身份证照片生成成功才能继续\r\n                if (this.generateCard) {\r\n                    if (this.generateComplete) {\r\n                        this.changeStep('down');\r\n                    }\r\n                } else {\r\n                    this.changeStep('down');\r\n                }\r\n            } else {\r\n                this.changeStep('down');\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.checkTips {\r\n\t\twidth: 60%;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tcolor: red;\r\n\t}\r\n\r\n\t.hide {\r\n\t\tvisibility: hidden;\r\n\t}\r\n\r\n\t.show {\r\n\t\tvisibility: visible;\r\n\t}\r\n\r\n\t.notCarryingCard {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\timg {\r\n\t\t\ttransform: scale(-1, 1);\r\n\t\t\tmax-height: 22.5vh;\r\n\t\t\tmax-width: 80%;\r\n\t\t\tmargin: 20px 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.inputClass {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 60% !important;\r\n\t\tfont-size: 26px;\r\n\t\tcolor: #636F93;\r\n\t\tmargin: 10px 0;\r\n\t}\r\n\r\n\t.carryingCard {\r\n\t\tposition: relative;\r\n\r\n\t\t.staticCard {\r\n\t\t\ttransform: scale(-1, 1);\r\n\t\t\twidth: auto;\r\n\t\t\theight: 312px;\r\n\t\t}\r\n\t}\r\n\r\n\t.moveCard {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 1;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.text {\r\n\t\tfont-size: 2.8vh;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 3vh;\r\n\t}\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./identify-card-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./identify-card-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./identify-card-page.vue?vue&type=template&id=30aaa776&scoped=true&\"\nimport script from \"./identify-card-page.vue?vue&type=script&lang=js&\"\nexport * from \"./identify-card-page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./identify-card-page.vue?vue&type=style&index=0&id=30aaa776&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30aaa776\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}