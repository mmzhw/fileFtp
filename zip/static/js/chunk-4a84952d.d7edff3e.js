(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a84952d"],{1371:function(e,t,i){},2647:function(e,t,i){"use strict";var s=i("9e00"),n=i.n(s);n.a},"27dd":function(e,t,i){e.exports=i.p+"static/media/8.54e945fa.mp3"},"28df":function(e,t,i){"use strict";var s=i("a6e4"),n=i.n(s);n.a},"2fda":function(e,t,i){e.exports=i.p+"static/media/15.6d872395.mp3"},"3bf6":function(e,t,i){"use strict";var s=i("b414"),n=i.n(s);n.a},"3ccc":function(e,t,i){e.exports=i.p+"static/media/9.1432cf8b.mp3"},"3f46":function(e,t,i){e.exports=i.p+"static/media/37.70bc8fd3.mp3"},"44a4":function(e,t,i){},"7b9e":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bgWrap"},[i("div",{staticClass:"msgWrap"},[i("img",{attrs:{src:e.imgObj}}),i("p",{domProps:{innerHTML:e._s(e.tipText)}}),e.disableBut?e._e():i("div",[e.disableButSure?e._e():i("kd-button",{attrs:{text:e.btnTextLeft,"button-handle":e.sure}}),e.disableButCancel?e._e():i("kd-button",{attrs:{text:e.btnTextRight,"button-handle":e.cancel}})],1)])])},n=[],a=(i("96cf"),i("1da1")),o=i("8634"),c=i.n(o),r={name:"AlertMsg",props:{tipText:String,btnTextLeft:{type:String,default:"确定"},btnTextRight:{type:String,default:"取消"},complete:{default:!1},disableBut:{default:!1},disableButCancel:{default:!1},disableButSure:{default:!1},alertSure:{type:Function,default:function(){}},alertCancel:{type:Function,default:function(){}},imgObj:{default:c.a}},methods:{sure:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.alertSure){t.next=3;break}return t.next=3,e.alertSure();case 3:case"end":return t.stop()}}),t)})))()},cancel:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.alertCancel){t.next=3;break}return t.next=3,e.alertCancel();case 3:case"end":return t.stop()}}),t)})))()}}},u=r,d=(i("98cd"),i("2877")),l=Object(d["a"])(u,s,n,!1,null,"439a5060",null);t["a"]=l.exports},"83b7":function(e,t,i){e.exports=i.p+"static/img/wait_card.aa7211fb.png"},8634:function(e,t,i){e.exports=i.p+"static/img/wait_done.a81e896c.png"},8769:function(e,t,i){"use strict";var s=i("44a4"),n=i.n(s);n.a},8788:function(e,t,i){},"8a93":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visibleTip?e._e():i("div",{staticClass:"progress-div"},[i("div",{staticClass:"middle"},[i("div",{staticClass:"topWrap"},[i("img",{staticClass:"waitImg",attrs:{src:e.img,alt:""}}),i("div",{staticClass:"timeWrap"},[e._v(e._s(e.time))])]),i("div",{staticClass:"process-static"},[i("div",{staticClass:"process-active",style:{width:e.percent+"%"}})]),i("p",{staticClass:"text"},[e._v(" "+e._s(e.waitText)+" ")])])])},n=[],a=(i("a9e3"),i("5530")),o=i("83b7"),c=i.n(o),r=i("2f62"),u=i("2fda"),d=i.n(u),l=i("541b"),p={name:"Process",props:{audio:{default:""},goToRoute:{type:String},type:{type:Number},img:{default:c.a},waitText:{default:"正在处理中, 请耐心等待......"},percent:{default:100},handleBusiness:{default:null}},data:function(){return{time:1,intervalId:null}},methods:Object(a["a"])({},Object(r["c"])("common",["changeStep"]),{startTime:function(){var e=this;this.time=1,this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((function(){e.time++}),1e3)}}),computed:Object(a["a"])({},Object(r["d"])("common",{visibleTip:"visibleTip"})),beforeDestroy:function(){this.audioObj.destroy(),clearInterval(this.intervalId)},watch:{type:function(){this.audioObj&&(this.audioObj.destroy(),this.audioObj=null),this.audioObj=Object(l["a"])(this.audio||d.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")},visibleTip:function(){this.visibleTip||(this.goToRoute?this.changeStep(this.goToRoute):this.changeStep("up"))}},mounted:function(){this.audioObj=Object(l["a"])(this.audio||d.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")}},f=p,h=(i("3bf6"),i("2877")),m=Object(h["a"])(f,s,n,!1,null,"1fc51ae4",null);t["a"]=m.exports},"947e":function(e,t,i){e.exports=i.p+"static/media/7.fee5568e.mp3"},"98cd":function(e,t,i){"use strict";var s=i("1371"),n=i.n(s);n.a},"9df1":function(e,t,i){},"9e00":function(e,t,i){},a4ef:function(e,t,i){"use strict";var s=i("8788"),n=i.n(s);n.a},a6e4:function(e,t,i){},b414:function(e,t,i){},c0cf:function(e,t,i){},c4c3:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"kd-page-title"},[e._v(" "+e._s(e.pageTitle)+" ")]),i("div",{staticClass:"kd-page-content-wrapper wrap-info"},[e.identifyCard.partyName?i("div",{staticClass:"item"},[i("span",{staticClass:"label"},[e._v("办理人：")]),i("span",{staticClass:"message"},[e._v(e._s(e.identifyCard.partyName))])]):e._e(),e.data.name?i("div",{staticClass:"item"},[i("span",{staticClass:"label"},[e._v("申请人：")]),i("span",{staticClass:"message"},[e._v(e._s(e.data.name?e.data.name:e.data.applyName?e.data.applyName:e.identifyCard.partyName))]),i("span",{staticClass:"label"},[e._v("申请业务：")]),i("span",{staticClass:"message"},[e._v(e._s(e.businessTypeName))])]):e._e(),e.data.slh?i("div",{staticClass:"item"},[i("span",{staticClass:"label"},[e._v("业务受理号：")]),i("span",{staticClass:"message"},[e._v(e._s(e.data.slh))])]):e._e(),e.data.serialNumber?i("div",{staticClass:"item"},[i("span",{staticClass:"label"},[e._v("业务流水号：")]),i("span",{staticClass:"message"},[e._v(e._s(e.data.serialNumber))])]):e._e(),i("div",{staticClass:"item"},[i("span",{staticClass:"label"},[e._v("申请日期：")]),i("span",{staticClass:"message"},[e._v(e._s(e.$momentFormat(e.data.applyTime)))])]),e.footTexts?i("div",{staticClass:"footer",domProps:{innerHTML:e._s(e.footTexts)}}):e._e()]),e.$store.state.common.visibleTip?e._e():i("div",{staticClass:"kd-foot-button kd-foot-button-position"},[e.printBut?i("kd-button",{attrs:{icon:"kedaIcon-duigou",text:"打印","button-handle":e.nextStep}}):i("kd-button",{attrs:{icon:"kedaIcon-policework",text:"业务完成",typeClass:"complete"}})],1)])},n=[],a=(i("96cf"),i("1da1")),o=i("5530"),c=i("2f62"),r=i("f23e"),u=i.n(r),d=i("541b"),l=i("b893"),p=i("ed08"),f=i("faf3"),h={name:"Complete",props:{data:{default:{}},footTexts:{default:"温馨提示：业务已受理，请耐心等待！"},pageTitle:{default:"提交完成"},mp3:{default:""},printBut:{default:!1}},computed:Object(o["a"])({},Object(c["d"])("common",{identifyCard:"identifyCard",businessTypeCode:"businessTypeCode",businessTypeName:"businessTypeName",dogHandlePic:"dogHandlePic"}),{},Object(c["d"])("permanent",{BUSINESS_CODE_NAME:"BUSINESS_CODE_NAME"})),mounted:function(){this.audioObj=Object(d["a"])(this.mp3||u.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()},methods:{nextStep:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["v"])({printCount:1,base64:Object(l["b"])(e.dogHandlePic)});case 2:i=t.sent,i&&1===i.code?Object(p["d"])():e.changeTipPage({message:i.message,enableBack:!0});case 4:case"end":return t.stop()}}),t)})))()}}},m=h,b=(i("2647"),i("2877")),v=Object(b["a"])(m,s,n,!1,null,"59e28f6f",null);t["a"]=v.exports},c640:function(e,t,i){e.exports=i.p+"static/media/6.9d10f929.mp3"},cdae:function(e,t,i){e.exports=i.p+"static/media/5.573dbff7.mp3"},d2a2:function(e,t,i){"use strict";var s=i("9df1"),n=i.n(s);n.a},d409:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.currentStep===e.steps.findIndex((function(e){return"identifyCardPage"===e.key}))?i("identify-card-page"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"faceYitu"===e.key}))?i("face-yitu"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"contrast"===e.key}))?i("contrast"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"process"===e.key}))?i("process",{attrs:{type:1,"handle-business":e.handleBusiness}}):e._e(),e.currentStep===e.steps.findIndex((function(e){return"personInfo"===e.key}))?i("person-info"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"checkPhone"===e.key}))?i("check-phone"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"liveMenu"===e.key}))?i("live-menu"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"facePic"===e.key}))?i("face-pic"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"complete"===e.key}))?i("complete",{attrs:{data:e.liveHandleBusinessInfo,"foot-texts":e.footTexts}}):e._e()],1)},n=[],a=(i("96cf"),i("1da1")),o=i("5530"),c=i("2f62"),r=i("2ef0"),u=i("f7ef"),d=i("943e"),l=i("f5a9"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"kd-page-title"},[e._v(" 信息确认 ")]),i("div",{staticClass:"kd-page-content-wrapper"},[i("div",{staticClass:"wrap-info"},[i("div",{staticClass:"oneLine"},[i("div",{staticClass:"item"},[i("p",{staticClass:"label"},[e._v(" 姓名： ")]),i("p",{staticClass:"message"},[e._v(" "+e._s(e.liveRegisterInfo.registerName)+" ")])]),i("div",{staticClass:"item"},[i("p",{staticClass:"labelAfter"},[e._v(" 性别： ")]),i("p",{staticClass:"message"},[e._v(" "+e._s(1===e.liveRegisterInfo.sex?"男":"女")+" ")])]),i("div",{staticClass:"item"},[i("p",{staticClass:"labelAfter"},[e._v(" 身份证： ")]),i("p",{staticClass:"message"},[e._v(" "+e._s(e.liveRegisterInfo.idNum)+" ")])])]),i("div",{staticClass:"item"},[i("p",{staticClass:"label"},[e._v(" 现居地址： ")]),i("p",{staticClass:"message"},[e._v(" "+e._s(e.liveRegisterInfo.currentResidentAddress)+" ")])]),i("div",{staticClass:"item"},[i("p",{staticClass:"label"},[e._v(" 所属街道： ")]),i("p",{staticClass:"message"},[e._v(" "+e._s(e.liveRegisterInfo.street)+" ")])]),i("div",{staticClass:"item"},[i("p",{staticClass:"label"},[e._v(" 所属社区： ")]),i("p",{staticClass:"message"},[e._v(" "+e._s(e.liveRegisterInfo.community)+" ")])]),i("div",{staticClass:"footer"},[e._v(" 温馨提示：请认真核实并确认以下登记信息是否发生变更，如已变更， 请前往当前社区派出窗口进行 信息修改，如未变更，请点击“下一步”按钮进行确认操作。 ")])])]),e.$store.state.common.visibleTip?e._e():i("div",{staticClass:"kd-foot-button kd-foot-button-position"},[i("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),i("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":e.openTip}})],1),e.alertOn?i("alert-msg",{attrs:{alertSure:e.sure,alertCancel:e.cancel,"tip-text":"请认真核对以上信息，确认无误！"}}):e._e()],1)},f=[],h=i("7b9e"),m=i("cdae"),b=i.n(m),v=i("541b"),g={name:"LivePersonInfo",components:{alertMsg:h["a"]},data:function(){return{alertOn:!1}},methods:Object(o["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{openTip:function(){this.alertOn=!0},goUp:function(){this.changeStep("up")},sure:function(){var e=this;this.alertOn=!1,this.$nextTick((function(){e.changeStep("down")}))},cancel:function(){this.alertOn=!1}}),computed:Object(o["a"])({},Object(c["d"])("live",{liveRegisterInfo:"liveRegisterInfo"})),mounted:function(){this.audioObj=Object(v["a"])(b.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()}},y=g,C=(i("a4ef"),i("2877")),k=Object(C["a"])(y,p,f,!1,null,"f87a893a",null),_=k.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"kd-page-title"},[e._v(" 验证手机 ")]),i("div",{staticClass:"kd-page-content-wrapper kd-page-padding wrap-info"},[i("verify-code",{ref:"verifyCode",on:{getVerifyCode:e.getVerifyCode}})],1),e.$store.state.common.visibleTip?e._e():i("div",{staticClass:"kd-foot-button kd-foot-button-position"},[i("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),i("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":e.goUp}}),i("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":e.goNext}})],1)])},O=[],I=i("ab59"),j=i("ea32"),T={name:"LiveCheckPhone",components:{verifyCode:j["a"]},data:function(){return{fullScreenLoading:!1}},methods:Object(o["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{},Object(c["c"])("live",["setLiveHandleBusinessInfo"]),{getVerifyCode:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(I["c"])({phone:e.$refs.verifyCode.item.phoneNumber});case 2:i=t.sent,i&&"0"===i.code?console.log("获取验证码成功"):e.changeTipPage({message:i.message,enableBack:!0});case 4:case"end":return t.stop()}}),t)})))()},goUp:function(){this.changeStep("up")},goNext:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.verifyCode.submission()){t.next=5;break}return t.next=3,Object(I["a"])({phone:e.$refs.verifyCode.item.phoneNumber,code:e.$refs.verifyCode.item.verifyCode});case 3:i=t.sent,i&&"0"===i.code?i.result&&0===i.result.status?e.changeTipPage({message:"无法办证"}):i.result&&4===i.result.status?e.changeTipPage({message:"已在审核状态，请等待"}):(e.setLiveHandleBusinessInfo({businessType:i.result}),e.changeStep("down")):e.changeTipPage({message:i.message,enableBack:!0});case 5:case"end":return t.stop()}}),t)})))()}})},P=T,w=(i("f7a0"),Object(C["a"])(P,x,O,!1,null,"7c633d0a",null)),S=w.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"kd-page-title"},[e._v(" 业务确认 ")]),i("div",{staticClass:"kd-page-content-wrapper kd-page-padding wrap-info"},[i("div",{staticClass:"title"},[e._v(" "+e._s(e.des)+" ")]),i("div",{staticClass:"but",attrs:{onclick:"goDown()"}},[e._v(" "+e._s(e.but)+" ")]),2===e.liveHandleBusinessInfo.businessType?i("div",{staticClass:"tio"},[e._v(" 温馨提示：点击确定后，系统将为您进行居住证挂失操作，然后申请补办。 ")]):e._e()]),e.$store.state.common.visibleTip?e._e():i("div",{staticClass:"kd-foot-button kd-foot-button-position"},[i("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),i("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":e.goUp}}),i("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":e.goDown}})],1)])},B=[],R=i("947e"),V=i.n(R),E={name:"LiveLiveMenu",methods:Object(o["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{goUp:function(){this.changeStep("up")},goDown:function(){this.changeStep("down")}}),data:function(){return{audioObj:null}},computed:Object(o["a"])({},Object(c["d"])("live",{liveHandleBusinessInfo:"liveHandleBusinessInfo"}),{des:function(){return 1===this.liveHandleBusinessInfo.businessType?"系统查询结果显示，当前可进行：":3===this.liveHandleBusinessInfo.businessType?"系统查询结果显示，您已对居住证进行挂失，当前可进行：":"系统查询结果显示，您未对居住证进行挂失，当前可进行："},but:function(){return 1===this.liveHandleBusinessInfo.businessType?"居住证新办":2===this.liveHandleBusinessInfo.businessType?"居住证挂失并补办":"居住证补办"}}),mounted:function(){this.audioObj=Object(v["a"])(V.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()}},M=E,$=(i("8769"),Object(C["a"])(M,N,B,!1,null,"248d72d0",null)),H=$.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"kd-page-title"},[e._v(" 请正对摄像头，脸部置于框内保持不动 ")]),i("div",{staticClass:"kd-page-content-wrapper wrap-info"},[e.taked?e._e():i("div",[e.nowAvatar?i("img",{attrs:{height:"400",src:e.nowAvatar}}):i("div",{staticClass:"loadingImg el-icon-loading"})]),e.taked?i("div",[e.finallyPhoto?i("img",{attrs:{height:"400",src:e.finallyPhoto}}):i("div",{staticClass:"loadingImg el-icon-loading"})]):e._e(),i("div",{staticClass:"timeText"},[e._v(" "+e._s(e.timeClockNum&&e.timeClockNum>1?e.timeClockNum-1:"")+" ")])]),e.$store.state.common.visibleTip?e._e():i("div",{staticClass:"kd-foot-button kd-foot-button-position"},[i("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),e.taked?e._e():i("kd-button",{attrs:{icon:"kedaIcon-zhaoxiangji",text:"拍照","button-handle":e.takePhoto,"but-disable":e.timeClockNum}}),e.taked?e._e():i("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":e.goUp}}),e.taked?i("kd-button",{attrs:{icon:"kedaIcon-zhaoxiangji",text:"重拍","button-handle":e.takeAgain,"but-disable":e.isUpdate}}):e._e(),e.taked?i("kd-button",{attrs:{icon:"kedaIcon-duihao2",text:"提交","button-handle":e.upPhoto,"but-disable":!e.finallyPhoto}}):e._e()],1)])},D=[],A=i("b2eb"),W=i("b893"),F=i("27dd"),U=i.n(F),K=i("3ccc"),Y=i.n(K),q={name:"LiveFacePic",computed:Object(o["a"])({},Object(c["d"])("permanent",{nowAvatar:"singleReflexImgSrc",singleReflexWebSocket:"singleReflexWebSocket",singleReflexTakeImgSrc:"singleReflexTakeImgSrc"}),{},Object(c["d"])("live",{liveHandleBusinessInfo:"liveHandleBusinessInfo"})),data:function(){return{taked:!1,isUpdate:!1,timeClockNum:"",finallyPhoto:"",audioReady:null,audioTake:null,timeId:null}},watch:{singleReflexTakeImgSrc:function(e){this.audioReady.pause(),this.audioTake.play(),this.timeClockNum="",this.taked=!0,this.finallyPhoto=e,Object(A["b"])(this.singleReflexWebSocket,{module:"Camera",directive:"stop"})}},mounted:function(){this.audioReady=Object(v["a"])(U.a),this.audioTake=Object(v["a"])(Y.a),this.audioReady.play(),Object(A["b"])(this.singleReflexWebSocket,{module:"Camera",directive:"reOpen"}),Object(A["b"])(this.singleReflexWebSocket,{module:"Camera",directive:"start"}),Object(A["b"])(this.lightWebSocket,"lightCtrl@B5:ON")},beforeDestroy:function(){this.audioReady.destroy(),this.audioTake.destroy(),clearInterval(this.timeId),this.timeId=null,Object(A["b"])(this.lightWebSocket,"lightCtrl@B5:OFF"),Object(A["b"])(this.singleReflexWebSocket,{module:"Camera",directive:"stop"})},methods:Object(o["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{},Object(c["c"])("live",["setLiveHandleBusinessInfo"]),{takePhoto:function(){var e=this;this.timeClockNum=4,this.timeId=setInterval((function(){e.timeClockNum=e.timeClockNum-1,1===e.timeClockNum&&(clearInterval(e.timeId),e.timeId=null,Object(A["b"])(e.singleReflexWebSocket,{module:"Camera",directive:"takePhoto"}))}),1e3)},takeAgain:function(){this.taked=!1,Object(A["b"])(this.singleReflexWebSocket,{module:"Camera",directive:"start"})},goUp:function(){this.changeStep("up")},upPhoto:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isUpdate=!0,e.setLiveHandleBusinessInfo({identifiedPhoto:e.finallyPhoto}),t.next=4,Object(I["h"])({businessType:e.liveHandleBusinessInfo.businessType,identifiedPhoto:Object(W["b"])(e.finallyPhoto)});case 4:i=t.sent,e.isUpdate=!1,i&&"0"===i.code?(e.setLiveHandleBusinessInfo(i.result),e.changeStep("down")):i&&e.changeTipPage({message:i.message});case 7:case"end":return t.stop()}}),t)})))()}})},G=q,z=(i("28df"),Object(C["a"])(G,L,D,!1,null,"f173d10a",null)),J=z.exports,Q=i("c4c3"),X=i("8a93"),Z={name:"LiveIndex",components:{identifyCardPage:u["a"],faceYitu:d["a"],contrast:l["a"],personInfo:_,checkPhone:S,liveMenu:H,facePic:J,complete:Q["a"],process:X["a"]},computed:Object(o["a"])({},Object(c["d"])("common",{steps:"steps",currentStep:"currentStep",identifyCard:"identifyCard",binocularCamera:"binocularCamera"}),{},Object(c["d"])("live",{liveHandleBusinessInfo:"liveHandleBusinessInfo"})),data:function(){return{types:["","居住证新办","居住证补办","居住证挂失补办"],footTexts:"温馨提示：业务已受理，请耐心等待，审核结果将会以短信告知。"}},methods:Object(o["a"])({},Object(c["c"])("common",["changeStep","changeTipPage","setSteps"]),{},Object(c["c"])("live",["setLiveResidenceCardId","setLiveRegisterInfo"]),{handleBusiness:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(I["b"])({idNum:e.identifyCard.certNumber});case 2:i=t.sent,i&&"0"===i.code?0===i.result.status?e.changeTipPage({message:"无效"}):1===i.result.status?e.changeTipPage({type:1,message:"本地户籍，无需办理居住证业务",imgName:"imgHomeLocal"}):2===i.result.status?e.changeTipPage({message:"对不起，本市居住证系统内未查询到您的流动人口登记信息，请您先在居住地所属社区进行流动人口登记，登记完成方可办理此业务！",imgName:"imgText"}):3===i.result.status?e.changeTipPage({message:"请先前往社区派出所进行流动人口登记，方可办理居住证业务！",imgName:"imgText"}):4===i.result.status?e.handleContrast():e.changeTipPage({message:"无效"}):i&&e.changeTipPage({message:i.message});case 4:case"end":return t.stop()}}),t)})))()},handleContrast:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(I["d"])({identifiedPhoto:e.binocularCamera});case 2:i=t.sent,i&&"0"===i.code?(s=Object(r["cloneDeep"])(i.result),Object.prototype.hasOwnProperty.call(s,"sex")||(n=parseInt(s.idNum.substr(s.idNum.length-2,1),10),s.sex=n%2===0?2:1),e.setLiveRegisterInfo(s),e.changeStep("down")):i&&e.changeTipPage({message:i.message});case 4:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.setSteps([{name:"身份识别",isActive:!0,visible:!0,key:"identifyCardPage"},{name:"身份识别",isActive:!1,visible:!1,key:"faceYitu"},{name:"身份识别",isActive:!1,visible:!1,key:"contrast"},{name:"身份识别",isActive:!1,visible:!1,key:"process"},{name:"信息确认",isActive:!1,visible:!0,key:"personInfo"},{name:"手机校验",isActive:!1,visible:!0,key:"checkPhone"},{name:"业务确认",isActive:!1,visible:!0,key:"liveMenu"},{name:"照片采集",isActive:!1,visible:!0,key:"facePic"},{name:"完成提交",isActive:!1,visible:!0,key:"complete"}])}},ee=Z,te=Object(C["a"])(ee,s,n,!1,null,null,null);t["default"]=te.exports},ea32:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap-info"},[i("div",{staticClass:"left",class:e.styleType?"centerText":""},[e.needPhone?i("div",{staticClass:"text-top"},[e.isSendVeryCode?i("div",[e._v(e._s("您好，手机验证码已发送到您的手机，5分钟内有效， 请勿泄露！"))]):i("div",[!e.phoneBusinessTip&&e.changePhoneBusiness?i("div",[e._v(e._s("请输入您的新手机号码进行校验"))]):e._e(),e.phoneBusinessTip||e.changePhoneBusiness?e._e():i("div",[e._v(e._s("您好，请输入手机号进行验证！"))]),e.phoneBusinessTip?i("div",{domProps:{innerHTML:e._s(e.phoneBusinessTip)}}):e._e()])]):e._e(),i("div",{staticClass:"payMoney"},[e.needPhone?e._e():i("p",{staticClass:"text-top"},[e._v(e._s(e.defaultPhoneNumber?"验证码将发送至机动车预留手机号":"您好，请输入六位数手机验证码进行验证！"))]),e.payMoney?i("p",{staticClass:"payText"},[e._v("支付金额：￥"+e._s(e.payMoney))]):e._e()]),i("div",[!e.needPhone&&e.defaultPhoneNumber?i("p",{staticClass:"text-top"}):e._e(),e.needPhone?i("div",{staticClass:"input-item"},[i("kd-input",{ref:"inputNum",staticClass:"inputNum",attrs:{"ime-type":0,"watch-data":e.watchPhoneNumber,placeholder:"请输入您的手机号码","get-focus":e.getFocus,"limit-number":11}}),i("p",{staticClass:"errorTips"},[e._v(e._s(e.errorMsg.phoneNumber))])],1):e._e(),e.onlyNeedPhone?e._e():i("div",{staticClass:"input-item"},[i("div",[i("kd-input",{ref:"inputVer",staticClass:"inputVer",attrs:{"ime-type":0,"watch-data":e.watchVerifyCode,placeholder:"请输入验证码","get-focus":e.getFocus,"limit-number":6}}),i("div",{staticClass:"verifyBut",class:{verifyDis:e.isSendVeryCode},on:{click:e.getVerifyCode}},[e._v(e._s(e.isSendVeryCode?"重新获取("+e.timeClock+")":"获取验证码"))])],1),i("p",{staticClass:"errorTips"},[e._v(e._s(e.errorMsg.verifyCode))])])])]),i("keyboard-back",{attrs:{"get-keyboard-data":e.getKeyboardData}})],1)},n=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"keyboard"},e._l(e.number.split(","),(function(t,s){return i("div",{key:s,staticClass:"item",class:"del"===t?"del":"",on:{click:function(i){return e.setNum(t)}}},[i("div",{class:e.getIcon(t)},[e._v(" "+e._s(e.getText(t))+" ")])])})),0)},o=[],c={name:"KeyboardBack",data:function(){return{pingyin:"",number:"7,8,9,4,5,6,1,2,3,0,del"}},props:{getKeyboardData:{type:Function,required:!0},type:{default:1}},methods:{getIcon:function(e){return"del"===e?"kedaIconfont kedaIcon-backspace":"case"===e?this.pyState?"kedaIconfont kedaIcon-737bianjiqi_xiaoxie":"kedaIconfont kedaIcon-736bianjiqi_daxie":""},getText:function(e){return"del"===e||"case"===e?"":"empty"===e?" ":e},setNum:function(e){this.getKeyboardData&&this.getKeyboardData(e)},numMouseDown:function(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1}}},r=c,u=(i("d2a2"),i("2877")),d=Object(u["a"])(r,a,o,!1,null,"be1651f4",null),l=d.exports,p=i("c640"),f=i.n(p),h=i("3f46"),m=i.n(h),b=i("541b"),v=i("2435"),g={name:"VerifyCode",components:{keyboardBack:l},props:{styleType:{default:""},needPhone:{default:!0},onlyNeedPhone:{default:!1},payMoney:{default:0},changePhoneBusiness:{default:!1},phoneBusinessTip:{type:String,default:""},defaultPhoneNumber:{default:""}},data:function(){return{clickGetCodeFlag:!1,selectedItem:["phoneNumber","verifyCode"],currentItem:0,item:{phoneNumber:"请输入您的手机号码",verifyCode:"请输入验证码"},errorMsg:{phoneNumber:"",verifyCode:""},verifyCodeInterval:null,isSendVeryCode:!1,timeClock:60,inputVueEl:null}},mounted:function(){this.audioYes=Object(b["a"])(f.a),this.audioNo=Object(b["a"])(m.a),this.onlyNeedPhone?this.audioNo.play():this.audioYes.play(),this.$refs.inputNum?this.$refs.inputNum.startKeyBoard():this.$refs.inputVer&&this.$refs.inputVer.startKeyBoard(),this.needPhone||this.$refs.inputVer.startKeyBoard()},beforeDestroy:function(){this.audioYes.destroy(),this.audioNo.destroy()},methods:{watchPhoneNumber:function(e){this.item.phoneNumber=e,this.checkPhoneExistence()},watchVerifyCode:function(e){this.item.verifyCode=e,this.checkVerifyCodeExistence()},getKeyboardData:function(e){this.inputVueEl&&this.inputVueEl.mouseClick(e)},getFocus:function(e){this.inputVueEl=e},checkPhoneExistence:function(){return this.needPhone?this.item.phoneNumber?"请输入您的手机号码"===this.item.phoneNumber?(this.errorMsg.phoneNumber="手机号不能为空",!1):v["q"].phone.test(this.item.phoneNumber)?(this.errorMsg.phoneNumber="",!0):(this.errorMsg.phoneNumber="请输入正确的手机号码",!1):(this.errorMsg.phoneNumber="手机号不能为空",!1):(this.errorMsg.phoneNumber="",!0)},checkVerifyCodeExistence:function(){return this.item.verifyCode?this.clickGetCodeFlag?6!==this.item.verifyCode.length?(this.errorMsg.verifyCode="请输入正确的验证码",!1):"请输入验证码"===this.item.verifyCode?(this.errorMsg.verifyCode="验证码不能为空",!1):(this.errorMsg.verifyCode="",!0):(this.errorMsg.verifyCode="请点击获取验证码",!1):(this.errorMsg.verifyCode="验证码不能为空",!1)},getVerifyCode:function(){var e=this;this.clickGetCodeFlag=!0,!this.isSendVeryCode&&this.checkPhoneExistence()&&(this.currentItem=1,this.timeClock=60,this.isSendVeryCode=!0,clearInterval(this.verifyCodeInterval),this.verifyCodeInterval=setInterval((function(){0===e.timeClock?(clearInterval(e.verifyCodeInterval),e.isSendVeryCode=!1,e.verifyCodeInterval=null):e.timeClock--}),1e3),this.$emit("getVerifyCode",this.item.phoneNumber))},submission:function(){if(this.onlyNeedPhone)return this.checkPhoneExistence();if(this.needPhone){var e=this.checkVerifyCodeExistence(),t=this.checkPhoneExistence();return!(!e||!t)}return this.checkVerifyCodeExistence()}}},y=g,C=(i("f2a5"),Object(u["a"])(y,s,n,!1,null,"28bdf060",null));t["a"]=C.exports},ef27:function(e,t,i){},f23e:function(e,t,i){e.exports=i.p+"static/media/10.4d0df920.mp3"},f2a5:function(e,t,i){"use strict";var s=i("c0cf"),n=i.n(s);n.a},f7a0:function(e,t,i){"use strict";var s=i("ef27"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-4a84952d.d7edff3e.js.map