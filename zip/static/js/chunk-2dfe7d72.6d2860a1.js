(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dfe7d72"],{2647:function(e,t,n){"use strict";var a=n("9e00"),s=n.n(a);s.a},"2fda":function(e,t,n){e.exports=n.p+"static/media/15.6d872395.mp3"},"3bf6":function(e,t,n){"use strict";var a=n("b414"),s=n.n(a);s.a},"83b7":function(e,t,n){e.exports=n.p+"static/img/wait_card.aa7211fb.png"},"8a93":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visibleTip?e._e():n("div",{staticClass:"progress-div"},[n("div",{staticClass:"middle"},[n("div",{staticClass:"topWrap"},[n("img",{staticClass:"waitImg",attrs:{src:e.img,alt:""}}),n("div",{staticClass:"timeWrap"},[e._v(e._s(e.time))])]),n("div",{staticClass:"process-static"},[n("div",{staticClass:"process-active",style:{width:e.percent+"%"}})]),n("p",{staticClass:"text"},[e._v(" "+e._s(e.waitText)+" ")])])])},s=[],i=(n("a9e3"),n("5530")),r=n("83b7"),c=n.n(r),o=n("2f62"),u=n("2fda"),d=n.n(u),p=n("541b"),l={name:"Process",props:{audio:{default:""},goToRoute:{type:String},type:{type:Number},img:{default:c.a},waitText:{default:"正在处理中, 请耐心等待......"},percent:{default:100},handleBusiness:{default:null}},data:function(){return{time:1,intervalId:null}},methods:Object(i["a"])({},Object(o["c"])("common",["changeStep"]),{startTime:function(){var e=this;this.time=1,this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((function(){e.time++}),1e3)}}),computed:Object(i["a"])({},Object(o["d"])("common",{visibleTip:"visibleTip"})),beforeDestroy:function(){this.audioObj.destroy(),clearInterval(this.intervalId)},watch:{type:function(){this.audioObj&&(this.audioObj.destroy(),this.audioObj=null),this.audioObj=Object(p["a"])(this.audio||d.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")},visibleTip:function(){this.visibleTip||(this.goToRoute?this.changeStep(this.goToRoute):this.changeStep("up"))}},mounted:function(){this.audioObj=Object(p["a"])(this.audio||d.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")}},f=l,m=(n("3bf6"),n("2877")),b=Object(m["a"])(f,a,s,!1,null,"1fc51ae4",null);t["a"]=b.exports},"926f":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return f}));var a=n("b775"),s=function(e){return a["a"].ajax("/ssm/zw/population/provingFaceRecognition","post",e)},i=function(e){return a["a"].ajax("/ssm/zw/population/wfzUsages","get",e)},r=function(e){return a["a"].ajax("/ssm/zw/population/getProvingResult","post",e)},c=function(e){return a["a"].ajax("/ssm/zw/population/preCheck","post",e)},o=function(e){return a["a"].ajax("/ssm/zw/population/finishProving","post",e)},u=function(e){return a["a"].ajax("/ssm/zw/population/saveRecommendPhoto","post",e)},d=function(e){return a["a"].ajax("/ssm/commonzwapi/precheck","post",e)},p=function(e){return a["a"].ajax("/ssm/zw/population/noCriminalFaceRecognition","post",e)},l=function(e){return a["a"].ajax("/ssm/zw/population/pushPersonInfo","post",e)},f=function(e){return a["a"].ajax("/ssm/zw/population/finish","post",e)}},"9e00":function(e,t,n){},"9e6e":function(e,t,n){"use strict";var a=n("d18d"),s=n.n(a);s.a},b414:function(e,t,n){},bc0a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.currentStep===e.steps.findIndex((function(e){return"identifyCardPage"===e.key}))?n("identify-card-page"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"faceYitu"===e.key}))?n("face-yitu"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"contrast"===e.key}))?n("contrast"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"process"===e.key}))?n("process",{attrs:{type:1,"handle-business":e.saveFace}}):e._e(),e.currentStep===e.steps.findIndex((function(e){return"personInfo"===e.key}))?n("person-info"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"print"===e.key}))?n("process",{attrs:{type:2,"handle-business":e.handlePrint,"wait-text":"正在打印中，请稍等"}}):e._e(),e.currentStep===e.steps.findIndex((function(e){return"complete"===e.key}))?n("complete",{attrs:{"page-title":"办理完成",data:e.cancelHouseCompleteRes}}):e._e()],1)},s=[],i=(n("96cf"),n("1da1")),r=n("5530"),c=n("2f62"),o=n("f7ef"),u=n("943e"),d=n("f5a9"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"kd-page-title"},[e._v(" 核对信息 ")]),n("div",{staticClass:"kd-page-content-wrapper kd-page-padding wrap-info flex-col"},[n("img",{attrs:{src:e.printImgUrls[0],alt:""}})]),e.$store.state.common.visibleTip?e._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),n("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":e.nextStep}})],1)])},l=[],f={name:"CancelHouseHefeiPersonInfo",computed:Object(r["a"])({},Object(c["d"])("common",{printImgUrls:"printImgUrls"})),methods:Object(r["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{nextStep:function(){this.changeStep("down")}})},m=f,b=(n("9e6e"),n("2877")),h=Object(b["a"])(m,p,l,!1,null,"4dde307e",null),v=h.exports,g=n("8a93"),C=n("c4c3"),j=n("926f"),y=n("faf3"),w=n("ed08"),x=n("b893"),O=n("2435"),_={name:"CancelHouseHefeiIndex",components:{identifyCardPage:o["a"],faceYitu:u["a"],contrast:d["a"],personInfo:v,process:g["a"],complete:C["a"]},computed:Object(r["a"])({},Object(c["d"])("common",{steps:"steps",currentStep:"currentStep",identifyCard:"identifyCard",binocularCamera:"binocularCamera",printId:"printId",businessTypeCode:"businessTypeCode"})),data:function(){return{cancelHouseCompleteRes:{},pdfUrl:""}},methods:Object(r["a"])({},Object(c["c"])("common",["changeStep","setSteps","changeTipPage","setPrintInfo","setPrintImgUrls"]),{saveFace:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["i"])({businessType:"hkzxzm",idNum:e.identifyCard.certNumber,identifiedPhoto:e.binocularCamera});case 2:n=t.sent,n&&"0"===n.code?e.CONSTANT.location===O["l"].yinchuan||e.CONSTANT.location===O["l"].zhongwei?(e.setPrintImgUrls(Object(x["a"])(n.result.pdfImage)),e.pdfUrl=n.result.pdfUrl,e.changeStep("down")):e.getModelData(n.result.provingId):n&&e.changeTipPage({message:n.message});case 4:case"end":return t.stop()}}),t)})))()},getModelData:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(j["c"])({provingId:e});case 2:a=n.sent,a&&"0"===a.code?t.createModel(a.result):a&&t.changeTipPage({message:a.message});case 4:case"end":return n.stop()}}),n)})))()},createModel:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.$moment(new Date).format("YYYY年MM月DD日"),n.next=3,Object(y["w"])({code:"hkzxzm",body:Object(r["a"])({},e,{csrq:t.$moment(e.csrq).format("YYYY年MM月DD日"),date:a})});case 3:s=n.sent,s&&"0"===s.code?(t.setPrintInfo(s.result),t.changeStep("down")):s&&t.changeTipPage({message:s.message});case 5:case"end":return n.stop()}}),n)})))()},handlePrint:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["y"])({path:e.pdfUrl?Object(w["b"])(e.pdfUrl):Object(w["b"])(e.printId)});case 2:n=t.sent,n&&1===n.code?e.complete():e.changeTipPage({message:"打印机出故障啦，请稍后重试"});case 4:case"end":return t.stop()}}),t)})))()},complete:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["f"])({});case 2:n=t.sent,n&&"0"===n.code?(e.cancelHouseCompleteRes=n.result,e.changeStep("down")):n&&e.changeTipPage({message:n.message});case 4:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.setSteps([{name:"身份识别",isActive:!0,visible:!0,key:"identifyCardPage"},{name:"身份识别",isActive:!1,visible:!1,key:"faceYitu"},{name:"身份识别",isActive:!1,visible:!1,key:"contrast"},{name:"身份识别",isActive:!1,visible:!1,key:"process"},{name:"核对信息",isActive:!1,visible:!0,key:"personInfo"},{name:"核对信息",isActive:!1,visible:!1,key:"print"},{name:"完成办理",isActive:!1,visible:!0,key:"complete"}])}},k=_,T=Object(b["a"])(k,a,s,!1,null,null,null);t["default"]=T.exports},c4c3:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"kd-page-title"},[e._v(" "+e._s(e.pageTitle)+" ")]),n("div",{staticClass:"kd-page-content-wrapper wrap-info"},[e.identifyCard.partyName?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("办理人：")]),n("span",{staticClass:"message"},[e._v(e._s(e.identifyCard.partyName))])]):e._e(),e.data.name?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("申请人：")]),n("span",{staticClass:"message"},[e._v(e._s(e.data.name?e.data.name:e.data.applyName?e.data.applyName:e.identifyCard.partyName))]),n("span",{staticClass:"label"},[e._v("申请业务：")]),n("span",{staticClass:"message"},[e._v(e._s(e.businessTypeName))])]):e._e(),e.data.slh?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("业务受理号：")]),n("span",{staticClass:"message"},[e._v(e._s(e.data.slh))])]):e._e(),e.data.serialNumber?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("业务流水号：")]),n("span",{staticClass:"message"},[e._v(e._s(e.data.serialNumber))])]):e._e(),n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("申请日期：")]),n("span",{staticClass:"message"},[e._v(e._s(e.$momentFormat(e.data.applyTime)))])]),e.footTexts?n("div",{staticClass:"footer",domProps:{innerHTML:e._s(e.footTexts)}}):e._e()]),e.$store.state.common.visibleTip?e._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[e.printBut?n("kd-button",{attrs:{icon:"kedaIcon-duigou",text:"打印","button-handle":e.nextStep}}):n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"业务完成",typeClass:"complete"}})],1)])},s=[],i=(n("96cf"),n("1da1")),r=n("5530"),c=n("2f62"),o=n("f23e"),u=n.n(o),d=n("541b"),p=n("b893"),l=n("ed08"),f=n("faf3"),m={name:"Complete",props:{data:{default:{}},footTexts:{default:"温馨提示：业务已受理，请耐心等待！"},pageTitle:{default:"提交完成"},mp3:{default:""},printBut:{default:!1}},computed:Object(r["a"])({},Object(c["d"])("common",{identifyCard:"identifyCard",businessTypeCode:"businessTypeCode",businessTypeName:"businessTypeName",dogHandlePic:"dogHandlePic"}),{},Object(c["d"])("permanent",{BUSINESS_CODE_NAME:"BUSINESS_CODE_NAME"})),mounted:function(){this.audioObj=Object(d["a"])(this.mp3||u.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()},methods:{nextStep:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["v"])({printCount:1,base64:Object(p["b"])(e.dogHandlePic)});case 2:n=t.sent,n&&1===n.code?Object(l["d"])():e.changeTipPage({message:n.message,enableBack:!0});case 4:case"end":return t.stop()}}),t)})))()}}},b=m,h=(n("2647"),n("2877")),v=Object(h["a"])(b,a,s,!1,null,"59e28f6f",null);t["a"]=v.exports},d18d:function(e,t,n){},f23e:function(e,t,n){e.exports=n.p+"static/media/10.4d0df920.mp3"}}]);
//# sourceMappingURL=chunk-2dfe7d72.6d2860a1.js.map