(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a3a2e88"],{2647:function(t,e,n){"use strict";var a=n("9e00"),s=n.n(a);s.a},"2fda":function(t,e,n){t.exports=n.p+"static/media/15.6d872395.mp3"},"3bf6":function(t,e,n){"use strict";var a=n("b414"),s=n.n(a);s.a},"4f71":function(t,e,n){t.exports=n.p+"static/media/11.b3f6b869.mp3"},"66d8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.currentStep===t.steps.findIndex((function(t){return"identifyCardPage"===t.key}))?n("identify-card-page"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"faceYitu"===t.key}))?n("face-yitu"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"contrast"===t.key}))?n("contrast"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"getReason"===t.key}))?n("process",{attrs:{type:3,"handle-business":t.getReason}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"reason"===t.key}))?n("reason",{attrs:{reasons:t.reasons,nextFunction:t.handleReason}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"process"===t.key}))?n("process",{attrs:{type:1,"handle-business":t.saveFace}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"highPhoto"===t.key}))?n("high-photo",{attrs:{itemName:"介绍信",nextFunction:t.highPhotoNext}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"personInfo"===t.key}))?n("person-info"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"print"===t.key}))?n("process",{attrs:{type:2,"handle-business":t.handlePrint,"wait-text":"正在打印中，请稍等"}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"complete"===t.key}))?n("complete",{attrs:{"page-title":"办理完成",data:t.result}}):t._e()],1)},s=[],i=(n("d81d"),n("b0c0"),n("96cf"),n("1da1")),o=n("5530"),r=n("2f62"),c=n("f7ef"),u=n("943e"),d=n("f5a9"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"kd-page-title"},[t._v(" 核对信息 ")]),n("div",{staticClass:"kd-page-content-wrapper kd-page-padding wrap-info flex-col"},[n("img",{attrs:{src:t.printImgUrls[0],alt:""}})]),t.$store.state.common.visibleTip?t._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),n("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":t.nextStep}})],1)])},l=[],h=n("f028"),f=n.n(h),m=n("541b"),b={name:"NoCrimeYinchuanPersonInfo",computed:Object(o["a"])({},Object(r["d"])("common",{printImgUrls:"printImgUrls"})),methods:Object(o["a"])({},Object(r["c"])("common",["changeStep","changeTipPage"]),{nextStep:function(){this.changeStep("down")}}),mounted:function(){this.audioObj=Object(m["a"])(f.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()}},g=b,v=(n("ca52"),n("2877")),x=Object(v["a"])(g,p,l,!1,null,"5fa201a1",null),j=x.exports,k=n("a75a"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"kd-page-title"},[t._v(" 请选择用途 ")]),n("div",{staticClass:"kd-page-content-wrapper wrap-info"},[n("el-form",{staticClass:"uploadLabel",attrs:{"label-width":"15vw"}},[n("el-form-item",{attrs:{label:"名称："}},[n("el-radio-group",{model:{value:t.useType,callback:function(e){t.useType=e},expression:"useType"}},t._l(t.reasons,(function(e,a){return n("el-radio",{key:a,staticClass:"uploadChoose",attrs:{label:e,border:""}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1),t.$store.state.common.visibleTip?t._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),n("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":t.goUp}}),n("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":t.goNext,"but-disable":!t.useType}})],1)])},C=[],y=n("4f71"),_=n.n(y),O={name:"NoCrimeYinchuanReason",props:{reasons:{type:Array,default:function(){return[]}},nextFunction:{type:Function,default:function(){this.changeStep("down")}}},data:function(){return{useType:""}},methods:Object(o["a"])({},Object(r["c"])("common",["changeStep","changeTipPage"]),{goUp:function(){this.changeStep("up")},goNext:function(){this.nextFunction(this.useType)}}),mounted:function(){this.audioObj=Object(m["a"])(_.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()}},I=O,T=(n("eb02"),Object(v["a"])(I,w,C,!1,null,"1a0b3917",null)),S=T.exports,P=n("8a93"),N=n("c4c3"),R=n("926f"),F=n("faf3"),U=n("ed08"),z=n("b893"),B=n("2435"),E=n("2061"),L=n("8e23"),$={name:"NoCrimeYinchuanIndex",components:{identifyCardPage:c["a"],faceYitu:u["a"],contrast:d["a"],personInfo:j,process:P["a"],complete:N["a"],reason:S,highPhoto:k["a"]},computed:Object(o["a"])({},Object(r["d"])("common",{steps:"steps",currentStep:"currentStep",identifyCard:"identifyCard",binocularCamera:"binocularCamera",printId:"printId",businessTypeCode:"businessTypeCode"})),data:function(){return{result:{},pdfUrl:"",reasons:B["n"],useType:""}},methods:Object(o["a"])({},Object(r["c"])("common",["changeStep","setSteps","changeTipPage","setPrintImgUrls"]),{saveFace:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["i"])({businessType:"wfzzm",idNum:t.identifyCard.certNumber,identifiedPhoto:t.binocularCamera,useType:t.useType});case 2:n=e.sent,n&&"0"===n.code?(t.setPrintImgUrls(Object(z["a"])(n.result.pdfImage)),t.pdfUrl=n.result.pdfUrl,t.changeStep("down")):n&&t.changeTipPage({message:n.message});case 4:case"end":return e.stop()}}),e)})))()},getReason:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["b"])();case 2:n=e.sent,n&&"0"===n.code?(t.reasons=n.result.map((function(t){return t.name})),t.changeStep("down")):n&&t.changeTipPage({message:n.message});case 4:case"end":return e.stop()}}),e)})))()},handleReason:function(t){this.useType=t,this.changeStep("down")},handlePrint:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(F["y"])({path:Object(U["b"])(t.pdfUrl)});case 2:if(n=e.sent,!n||1!==n.code){e.next=8;break}return e.next=6,t.complete();case 6:e.next=9;break;case 8:t.changeTipPage({message:"打印机出故障啦，请稍后重试"});case 9:case"end":return e.stop()}}),e)})))()},complete:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["f"])({});case 2:n=e.sent,n&&"0"===n.code?(t.result=n.result,t.changeStep("down")):n&&t.changeTipPage({message:n.message});case 4:case"end":return e.stop()}}),e)})))()},highPhotoNext:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["j"])({});case 2:n=e.sent,n&&"0"===n.code?t.changeStep("down"):n&&t.changeTipPage({message:n.message});case 4:case"end":return e.stop()}}),e)})))()}}),mounted:function(){Object(L["c"])(this.CONSTANT.location)?this.setSteps(E["B"]):this.setSteps(E["C"])}},D=$,W=Object(v["a"])(D,a,s,!1,null,null,null);e["default"]=W.exports},"83b7":function(t,e,n){t.exports=n.p+"static/img/wait_card.aa7211fb.png"},"8a93":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibleTip?t._e():n("div",{staticClass:"progress-div"},[n("div",{staticClass:"middle"},[n("div",{staticClass:"topWrap"},[n("img",{staticClass:"waitImg",attrs:{src:t.img,alt:""}}),n("div",{staticClass:"timeWrap"},[t._v(t._s(t.time))])]),n("div",{staticClass:"process-static"},[n("div",{staticClass:"process-active",style:{width:t.percent+"%"}})]),n("p",{staticClass:"text"},[t._v(" "+t._s(t.waitText)+" ")])])])},s=[],i=(n("a9e3"),n("5530")),o=n("83b7"),r=n.n(o),c=n("2f62"),u=n("2fda"),d=n.n(u),p=n("541b"),l={name:"Process",props:{audio:{default:""},goToRoute:{type:String},type:{type:Number},img:{default:r.a},waitText:{default:"正在处理中, 请耐心等待......"},percent:{default:100},handleBusiness:{default:null}},data:function(){return{time:1,intervalId:null}},methods:Object(i["a"])({},Object(c["c"])("common",["changeStep"]),{startTime:function(){var t=this;this.time=1,this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((function(){t.time++}),1e3)}}),computed:Object(i["a"])({},Object(c["d"])("common",{visibleTip:"visibleTip"})),beforeDestroy:function(){this.audioObj.destroy(),clearInterval(this.intervalId)},watch:{type:function(){this.audioObj&&(this.audioObj.destroy(),this.audioObj=null),this.audioObj=Object(p["a"])(this.audio||d.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")},visibleTip:function(){this.visibleTip||(this.goToRoute?this.changeStep(this.goToRoute):this.changeStep("up"))}},mounted:function(){this.audioObj=Object(p["a"])(this.audio||d.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")}},h=l,f=(n("3bf6"),n("2877")),m=Object(f["a"])(h,a,s,!1,null,"1fc51ae4",null);e["a"]=m.exports},"926f":function(t,e,n){"use strict";n.d(e,"i",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"h",(function(){return l})),n.d(e,"g",(function(){return h}));var a=n("b775"),s=function(t){return a["a"].ajax("/ssm/zw/population/provingFaceRecognition","post",t)},i=function(t){return a["a"].ajax("/ssm/zw/population/wfzUsages","get",t)},o=function(t){return a["a"].ajax("/ssm/zw/population/getProvingResult","post",t)},r=function(t){return a["a"].ajax("/ssm/zw/population/preCheck","post",t)},c=function(t){return a["a"].ajax("/ssm/zw/population/finishProving","post",t)},u=function(t){return a["a"].ajax("/ssm/zw/population/saveRecommendPhoto","post",t)},d=function(t){return a["a"].ajax("/ssm/commonzwapi/precheck","post",t)},p=function(t){return a["a"].ajax("/ssm/zw/population/noCriminalFaceRecognition","post",t)},l=function(t){return a["a"].ajax("/ssm/zw/population/pushPersonInfo","post",t)},h=function(t){return a["a"].ajax("/ssm/zw/population/finish","post",t)}},"9e00":function(t,e,n){},a75a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"kd-page-title"},[t._v(t._s(t.getTitle()))]),0===t.step?n("div",{staticClass:"kd-page-content-wrapper wrap-info"},[n("el-form",{staticClass:"uploadLabel",attrs:{"label-width":"15vw"}},[n("el-form-item",{attrs:{label:"材料上传："}},[n("div",{staticClass:"imgListsWrap"},[t.materialPhoto?n("div",{staticClass:"uploadImg"},[n("img",{staticClass:"preImg",attrs:{src:t.materialPhoto}}),n("i",{staticClass:"delImg",on:{click:function(e){return t.removeImg()}}})]):n("div",{staticClass:"uploadButton",on:{click:t.goToPhoto}},[n("p",{class:t.isLoad?"kedaIconfont kedaIcon-zhaoxiangji":"el-icon-loading"})])])])],1),n("div",{staticClass:"footer"},[t._v("温馨提示：请上传"+t._s(t.itemName)+"照片")])],1):t._e(),1===t.step?n("div",{staticClass:"kd-page-content-wrapper wrap-img"},[t.isLoad?n("img",{attrs:{src:t.highPhotoImg,alt:"",width:"400",height:"300"}}):n("div",{staticClass:"startLoading"},[n("div",{staticClass:"el-icon-loading loadingBlack"})])]):t._e(),2===t.step?n("div",{staticClass:"kd-page-content-wrapper wrap-img"},[n("img",{attrs:{src:t.materialPhoto,alt:"",width:"400",height:"300"}})]):t._e(),t.$store.state.common.visibleTip?t._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[0===t.step?n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}):t._e(),0===t.step?n("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":t.goUp,"but-disable":!t.isLoad}}):t._e(),0===t.step?n("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":t.goNext,"but-disable":!t.materialPhoto}}):t._e(),1===t.step?n("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":t.goUp,"but-disable":!t.isLoad}}):t._e(),1===t.step?n("kd-button",{attrs:{icon:"kedaIcon-zhaoxiangji",text:"拍照","button-handle":t.startScan,"but-disable":!t.isLoad||!t.highPhotoImg}}):t._e(),2===t.step?n("kd-button",{attrs:{icon:"kedaIcon-zhaoxiangji",text:"重拍","button-handle":t.goToPhoto}}):t._e(),2===t.step?n("kd-button",{attrs:{icon:"kedaIcon-baocun",text:"保存","button-handle":t.save,"but-disable":!t.materialPhoto}}):t._e()],1)])},s=[],i=(n("96cf"),n("1da1")),o=n("5530"),r=n("2f62"),c=n("b2eb"),u=n("b489"),d=n.n(u),p=n("541b"),l={name:"HighPhoto",props:{itemName:{type:String,default:"证件"},media:{default:d.a},nextFunction:{type:Function,default:function(){this.changeStep("down")}}},data:function(){return{step:1,nowImg:"",isLoad:!1,materialPhoto:""}},computed:Object(o["a"])({},Object(r["d"])("permanent",{dialog:"highPhotoDialog",lightWebSocket:"lightWebSocket",highPhotoDev:"highPhotoDev",highPhotoImg:"highPhotoImg"})),mounted:function(){this.startEquipment()},beforeDestroy:function(){this.mediaObj.destroy(),Object(c["b"])(this.lightWebSocket,"lightCtrl@B6:OFF"),this.dialog&&this.dialog.get_actionType("closeSignal")},methods:Object(o["a"])({},Object(r["c"])("common",["changeStep","changeTipPage"]),{startEquipment:function(){var t=this;this.isLoad=!1,this.dialog&&this.dialog.html_loaded("one"),setTimeout((function(){t.isLoad=!0}),5e3),this.mediaObj=Object(p["a"])(this.media),this.mediaObj.play()},getTitle:function(){return 0===this.step?"上传"+this.itemName+"材料":1===this.step?"请将"+this.itemName+"放置于高拍仪区域内":2===this.step?"拍摄完成":void 0},goToIndex:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(c["b"])(t.lightWebSocket,"lightCtrl@B6:OFF"),t.step=0;case 2:case"end":return e.stop()}}),e)})))()},goToPhoto:function(){this.isLoad&&(Object(c["b"])(this.lightWebSocket,"lightCtrl@B6:ON"),this.step=1)},goUp:function(){this.changeStep("up")},goNext:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.nextFunction(t.materialPhoto);case 2:case"end":return e.stop()}}),e)})))()},startScan:function(){this.materialPhoto=this.highPhotoImg,this.step=2},save:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.nextFunction(t.materialPhoto);case 2:case"end":return e.stop()}}),e)})))()},removeImg:function(){this.materialPhoto=""}})},h=l,f=(n("d890"),n("2877")),m=Object(f["a"])(h,a,s,!1,null,"37d92cac",null);e["a"]=m.exports},b414:function(t,e,n){},b489:function(t,e,n){t.exports=n.p+"static/media/18.6cf63469.mp3"},b6bf:function(t,e,n){},c4c3:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"kd-page-title"},[t._v(" "+t._s(t.pageTitle)+" ")]),n("div",{staticClass:"kd-page-content-wrapper wrap-info"},[t.identifyCard.partyName?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[t._v("办理人：")]),n("span",{staticClass:"message"},[t._v(t._s(t.identifyCard.partyName))])]):t._e(),t.data.name?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[t._v("申请人：")]),n("span",{staticClass:"message"},[t._v(t._s(t.data.name?t.data.name:t.data.applyName?t.data.applyName:t.identifyCard.partyName))]),n("span",{staticClass:"label"},[t._v("申请业务：")]),n("span",{staticClass:"message"},[t._v(t._s(t.businessTypeName))])]):t._e(),t.data.slh?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[t._v("业务受理号：")]),n("span",{staticClass:"message"},[t._v(t._s(t.data.slh))])]):t._e(),t.data.serialNumber?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[t._v("业务流水号：")]),n("span",{staticClass:"message"},[t._v(t._s(t.data.serialNumber))])]):t._e(),n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[t._v("申请日期：")]),n("span",{staticClass:"message"},[t._v(t._s(t.$momentFormat(t.data.applyTime)))])]),t.footTexts?n("div",{staticClass:"footer",domProps:{innerHTML:t._s(t.footTexts)}}):t._e()]),t.$store.state.common.visibleTip?t._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[t.printBut?n("kd-button",{attrs:{icon:"kedaIcon-duigou",text:"打印","button-handle":t.nextStep}}):n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"业务完成",typeClass:"complete"}})],1)])},s=[],i=(n("96cf"),n("1da1")),o=n("5530"),r=n("2f62"),c=n("f23e"),u=n.n(c),d=n("541b"),p=n("b893"),l=n("ed08"),h=n("faf3"),f={name:"Complete",props:{data:{default:{}},footTexts:{default:"温馨提示：业务已受理，请耐心等待！"},pageTitle:{default:"提交完成"},mp3:{default:""},printBut:{default:!1}},computed:Object(o["a"])({},Object(r["d"])("common",{identifyCard:"identifyCard",businessTypeCode:"businessTypeCode",businessTypeName:"businessTypeName",dogHandlePic:"dogHandlePic"}),{},Object(r["d"])("permanent",{BUSINESS_CODE_NAME:"BUSINESS_CODE_NAME"})),mounted:function(){this.audioObj=Object(d["a"])(this.mp3||u.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()},methods:{nextStep:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["v"])({printCount:1,base64:Object(p["b"])(t.dogHandlePic)});case 2:n=e.sent,n&&1===n.code?Object(l["d"])():t.changeTipPage({message:n.message,enableBack:!0});case 4:case"end":return e.stop()}}),e)})))()}}},m=f,b=(n("2647"),n("2877")),g=Object(b["a"])(m,a,s,!1,null,"59e28f6f",null);e["a"]=g.exports},ca52:function(t,e,n){"use strict";var a=n("b6bf"),s=n.n(a);s.a},cf9e:function(t,e,n){},d890:function(t,e,n){"use strict";var a=n("cf9e"),s=n.n(a);s.a},eb02:function(t,e,n){"use strict";var a=n("f588"),s=n.n(a);s.a},f028:function(t,e,n){t.exports=n.p+"static/media/12.ed5f0627.mp3"},f23e:function(t,e,n){t.exports=n.p+"static/media/10.4d0df920.mp3"},f588:function(t,e,n){}}]);
//# sourceMappingURL=chunk-8a3a2e88.65e1eb3f.js.map