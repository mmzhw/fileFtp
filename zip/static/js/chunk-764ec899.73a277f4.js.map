{"version":3,"sources":["webpack:///./src/assets/images/wrongPosture.png","webpack:///./src/assets/images/photo/tipMask.png","webpack:///./src/components/crop-photo.vue?e391","webpack:///src/components/crop-photo.vue","webpack:///./src/components/crop-photo.vue?72e6","webpack:///./src/components/crop-photo.vue","webpack:///./src/components/complete.vue?a9ca","webpack:///./src/utils/axiosHandle.js","webpack:///./src/view/human/handle/id-card-photo-collect/index.vue?f85a","webpack:///./src/view/human/handle/id-card-photo-collect/components/take-photo.vue?2529","webpack:///src/view/human/handle/id-card-photo-collect/components/take-photo.vue","webpack:///./src/view/human/handle/id-card-photo-collect/components/take-photo.vue?11c9","webpack:///./src/view/human/handle/id-card-photo-collect/components/take-photo.vue","webpack:///src/view/human/handle/id-card-photo-collect/index.vue","webpack:///./src/view/human/handle/id-card-photo-collect/index.vue?67bb","webpack:///./src/view/human/handle/id-card-photo-collect/index.vue","webpack:///./src/assets/images/tick.png","webpack:///./src/assets/images/machine.png","webpack:///./src/assets/images/correctPosture.png","webpack:///./src/components/crop-photo.vue?f0fb","webpack:///./src/components/complete.vue?ac7e","webpack:///src/components/complete.vue","webpack:///./src/components/complete.vue?51b7","webpack:///./src/components/complete.vue","webpack:///./src/view/human/handle/id-card-photo-collect/components/take-photo.vue?6e75","webpack:///./src/assets/images/default/cameraDefault.png","webpack:///./src/assets/media/common/10.mp3"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","getCropImg","isTaked","_e","attrs","photoSrc","resultSrc","tipMask","tick","_v","_s","isWorking","clockTime","ref","style","width","height","takingSrc","option","outputSize","outputType","info","canScale","autoCrop","getFixed","size","staticRenderFns","component","handlePhotoRequest","photo","CONSTANT","disableDogHandle","axios","get","res","params","data","idPicHandle","base64","cancelPrefix","code","obj","handleDriverPhotoRequest","handleExitEntryPhotoRequest","getDriverLicensePhoto","bgColor","childTypes","eyeYMax","eyeYMin","faceWidthMax","faceWidthMin","headHeightMax","headHeightMin","headtopMarginMax","headtopMarginMin","id","layout","x","y","cornerX","cornerY","landscape","name","price","type","getExitEntryPhoto","currentStep","steps","findIndex","step","key","updateIdPhoto","result","this$1","_m","correctPosture","wrongPosture","singleReflexImgSrc","machine","_l","i","index","refInFor","singleReflexTakeImgSrc","clickImg","startPhoto","singleReflexHandlePhoto","$store","state","common","visibleTip","changeStep","startTakePhoto","goDownHandlePhoto","chosePhoto","goNext","pageTitle","identifyCard","partyName","applyName","businessTypeName","slh","serialNumber","$momentFormat","applyTime","domProps","footTexts","nextStep"],"mappings":"mGAAAA,EAAOC,QAAU,kjD,uBCAjBD,EAAOC,QAAU,IAA0B,mC,oCCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUC,GAAG,CAAC,MAAQP,EAAIQ,aAAa,CAAGR,EAAIS,QAAiFT,EAAIU,KAA5EN,EAAG,MAAM,CAACE,YAAY,YAAYK,MAAM,CAAC,IAAM,GAAG,IAAMX,EAAIY,YAAsBZ,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,YAAYK,MAAM,CAAC,IAAM,GAAG,IAAMX,EAAIa,aAAab,EAAIU,KAAOV,EAAIS,QAA8ET,EAAIU,KAAzEN,EAAG,MAAM,CAACE,YAAY,UAAUK,MAAM,CAAC,IAAM,GAAG,IAAMX,EAAIc,WAAqBd,EAAU,OAAEI,EAAG,IAAI,CAACA,EAAG,MAAM,CAACO,MAAM,CAAC,IAAM,GAAG,IAAMX,EAAIe,UAAUf,EAAIU,OAAON,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAIkB,UAAYlB,EAAImB,UAAY,OAAQnB,EAAa,UAAEI,EAAG,cAAc,CAACgB,IAAI,UAAUd,YAAY,aAAae,MAAM,CAAEC,MAAMtB,EAAIsB,MAAMC,OAAOvB,EAAIuB,QAASZ,MAAM,CAAC,IAAMX,EAAIwB,UAAU,cAAcxB,EAAIyB,OAAOC,WAAW,cAAc1B,EAAIyB,OAAOE,WAAW,KAAO3B,EAAIyB,OAAOG,KAAK,YAAY5B,EAAIyB,OAAOI,SAAS,YAAY7B,EAAIyB,OAAOK,SAAS,kBAAkB9B,EAAIsB,MAAM,mBAAmBtB,EAAIuB,OAAO,MAAQvB,EAAI+B,WAAW,eAAe/B,EAAIgC,QAAQhC,EAAIU,MAAM,IACriCuB,EAAkB,G,sGCmCtB,GACE,KAAF,YACE,WAAF,CAAI,WAAJ,iBACE,MAAF,mEACE,SAAF,kBACA,4BACI,sBAAJ,2BAGE,KATF,WAUI,MAAJ,CACM,KAAN,IACM,QAAN,IACM,QAAN,EACM,UAAN,GACM,UAAN,GACM,WAAN,EACM,SAAN,EACM,aAAN,EACM,UAAN,EACM,YAAN,KACM,MAAN,aACM,OAAN,cACM,OAAN,CACQ,MAAR,EACQ,WAAR,EACQ,WAAR,OACQ,UAAR,EACQ,UAAR,EACQ,YAAR,EACQ,WAAR,EACQ,UAAR,KAIE,MAAF,CACI,aADJ,SACA,GACA,qBACQ,KAAR,cAIE,QAAF,kBACA,0DADA,CAEI,SAFJ,WAGM,OAAN,kCAGA,WAII,WAVJ,WAWM,KAAN,kCAGI,aAdJ,SAcA,GACA,eACQ,KAAR,WAII,OApBJ,WAoBM,IAAN,OACM,KAAN,UACM,KAAN,YACM,KAAN,WACM,KAAN,aACM,KAAN,oCACQ,EAAR,YACA,kBACU,cAAV,eACU,EAAV,iBACU,EAAV,aACU,EAAV,eACU,OAAV,OAAU,CAAV,yBACY,OAAZ,SACY,UAAZ,iBAGA,MAGI,SAxCJ,SAwCA,GAAM,IAAN,OACM,KAAN,eACM,KAAN,YACA,+BACQ,KAAR,WACQ,KAAR,yBACQ,KAAR,+BAEQ,YAAR,WACU,EAAV,uCACY,EAAZ,WACY,EAAZ,YACY,EAAZ,gCAEA,QAIE,cApGF,WAqGI,cAAJ,oBCzIoV,I,wBCQhVC,EAAY,eACd,EACAnC,EACAkC,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,2CCnBf,yBAAqiB,EAAG,G,mSCI3hBC,EAAkB,yDAAG,WAAOC,EAAOC,GAAd,4FACzBA,EAASC,iBADgB,iCAEVC,IAAMC,IAAI,iCAFA,cAEtBC,EAFsB,OAGpBC,EAASD,EAAIE,KAHO,SAIdC,eAAY,gBACpBC,OAAQC,eAAaV,IAClBM,IANmB,cAI1BD,EAJ0B,yBAQnBA,GARmB,iCAUnB,CAAEM,KAAM,IAAKC,IAAKZ,IAVC,4CAAH,wDAclBa,EAAwB,yDAAG,WAAOb,EAAOC,GAAd,4FAC/BA,EAASC,iBADsB,iCAEhBC,IAAMC,IAAI,2BAFM,cAE5BC,EAF4B,OAG1BC,EAASD,EAAIE,KAHa,SAIpBC,eAAY,gBACpBC,OAAQC,eAAaV,IAClBM,IANyB,cAIhCD,EAJgC,yBAQzBA,GARyB,iCAUzB,CAAEM,KAAM,IAAKC,IAAKZ,IAVO,4CAAH,wDAcxBc,EAA2B,yDAAG,WAAOd,EAAOC,GAAd,4FAClCA,EAASC,iBADyB,iCAEnBC,IAAMC,IAAI,yBAFS,cAE/BC,EAF+B,OAG7BC,EAASD,EAAIE,KAHgB,SAIvBC,eAAY,gBACpBC,OAAQC,eAAaV,IAClBM,IAN4B,cAInCD,EAJmC,yBAQ5BA,GAR4B,iCAU5B,CAAEM,KAAM,IAAKC,IAAKZ,IAVU,4CAAH,wDAc3Be,EAAwB,SAACf,GAClC,IAAMM,EAAS,CACXU,QAAS,QACTC,WAAY,GACZC,QAAS,IACTC,QAAS,GACTC,cAAe,EACfC,cAAe,EACfC,cAAe,GACfC,cAAe,GACfC,iBAAkB,IAClBC,iBAAkB,IAClBtC,OAAQ,IACRuC,GAAI,GACJC,OAAQ,CAAC,CAAEzC,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,GAAIC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,IAAKC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,IAAKC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,KAAMC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,KAAMC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,GAAIC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,IAAKC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,IAAKC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,KAAMC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,KAAMC,QAAS,IAAKC,WAAW,IACp5BC,KAAM,QACNC,MAAO,IACPC,KAAM,EACNjD,MAAO,KAKX,OAHIc,IACAM,EAAOG,OAASC,eAAaV,IAE1BM,GAGE8B,EAAoB,SAACpC,GAC9B,IAAMM,EAAS,CACXU,QAAS,QACTE,QAAS,GACTC,QAAS,IACTC,cAAe,EACfC,cAAe,EACfC,eAAgB,EAChBC,eAAgB,EAChBC,iBAAkB,KAClBC,iBAAkB,KAClBtC,OAAQ,IACRD,MAAO,IACPyC,OAAQ,CAAC,CAAEzC,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,GAAIC,QAAS,GAAIC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,IAAKC,QAAS,GAAIC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,IAAKC,QAAS,GAAIC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,KAAMC,QAAS,GAAIC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,GAAIC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,IAAKC,EAAG,IAAKC,QAAS,IAAKC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,IAAKC,QAAS,IAAKC,WAAW,GAAS,CAAE9C,MAAO,IAAKC,OAAQ,IAAKyC,EAAG,KAAMC,EAAG,IAAKC,QAAS,KAAMC,QAAS,IAAKC,WAAW,IACxtBC,KAAM,SAGV,OADA3B,EAAOG,OAASC,eAAaV,GACtBM,I,2CCzFX,IAAI3C,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAIyE,cAAgBzE,EAAI0E,MAAMC,WAAU,SAAUC,GAAO,MAAoB,qBAAbA,EAAKC,OAAgCzE,EAAG,sBAAsBJ,EAAIU,KAAMV,EAAIyE,cAAgBzE,EAAI0E,MAAMC,WAAU,SAAUC,GAAO,MAAoB,aAAbA,EAAKC,OAAwBzE,EAAG,aAAaJ,EAAIU,KAAMV,EAAIyE,cAAgBzE,EAAI0E,MAAMC,WAAU,SAAUC,GAAO,MAAoB,aAAbA,EAAKC,OAAwBzE,EAAG,WAAW,CAACO,MAAM,CAAC,iBAAiB,kBAAkBX,EAAIU,KAAMV,EAAIyE,cAAgBzE,EAAI0E,MAAMC,WAAU,SAAUC,GAAO,MAAoB,YAAbA,EAAKC,OAAuBzE,EAAG,UAAU,CAACO,MAAM,CAAC,KAAO,EAAE,kBAAkBX,EAAI8E,iBAAiB9E,EAAIU,KAAMV,EAAIyE,cAAgBzE,EAAI0E,MAAMC,WAAU,SAAUC,GAAO,MAAoB,cAAbA,EAAKC,OAAyBzE,EAAG,cAAcJ,EAAIU,KAAMV,EAAIyE,cAAgBzE,EAAI0E,MAAMC,WAAU,SAAUC,GAAO,MAAoB,aAAbA,EAAKC,OAAwBzE,EAAG,WAAW,CAACO,MAAM,CAAC,KAAOX,EAAI+E,OAAO,aAAa,yBAAyB/E,EAAIU,MAAM,IAC/9BuB,EAAkB,G,gGCDlB,EAAS,WACb,IAAI+C,EAAS/E,KACTD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAe,IAAbJ,EAAI4E,KAAYxE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIgB,GAAG,cAAcZ,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIiF,GAAG,GAAGjF,EAAIiF,GAAG,GAAG7E,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAIkF,eAAe,IAAM,MAAM9E,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAImF,aAAa,IAAM,UAAU/E,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAIoF,wBAAwBhF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIiF,GAAG,GAAGjF,EAAIiF,GAAG,GAAG7E,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAIqF,QAAQ,IAAM,gBAAgBrF,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIgB,GAAG,YAAYZ,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwBN,EAAIsF,GAAG,GAAI,SAASC,EAAEC,GAAO,OAAOpF,EAAG,OAAO,CAACyE,IAAIW,EAAMpE,IAAI,QAAQqE,UAAS,EAAK9E,MAAM,CAAC,GAAK6E,EAAM,YAAYxF,EAAIoF,mBAAmB,iBAAiBpF,EAAI0F,uBAAuB,YAAY1F,EAAI2F,UAAUpF,GAAG,CAAC,WAAaP,EAAI4F,iBAAgB,GAAGxF,EAAG,MAAM,CAACE,YAAY,cAAc,CAAEN,EAAa,UAAEI,EAAG,IAAI,CAACJ,EAAIgB,GAAG,wBAAwBhB,EAAIU,WAAWV,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIgB,GAAG,YAAYZ,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAAEN,EAA2B,wBAAEI,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAI6F,wBAAwB,IAAM,MAAMzF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAM,EAAQ,QAA0D,IAAM,UAAUX,EAAIU,KAAOV,EAAI8F,OAAOC,MAAMC,OAAOC,WAA2+BjG,EAAIU,KAAn+BN,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,OAAO,aAAa,UAAwB,IAAbX,EAAI4E,KAAYxE,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,MAAM,gBAAgB,WAAYqE,EAAOkB,WAAW,UAAUlG,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,MAAM,gBAAgBX,EAAImG,kBAAkBnG,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,MAAM,gBAAgB,WAAYqE,EAAOJ,WAAW5E,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,uBAAuB,KAAO,KAAK,gBAAgBX,EAAIoG,kBAAkB,eAAepG,EAAIqG,cAAcrG,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,KAAK,gBAAgB,WAAYqE,EAAOJ,KAAO,MAAM5E,EAAIU,KAAmB,IAAbV,EAAI4E,KAAYxE,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,KAAK,gBAAgBX,EAAIsG,UAAUtG,EAAIU,MAAM,MAC1jF,EAAkB,CAAC,WAAa,IAAIV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACJ,EAAIgB,GAAG,aAAa,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACJ,EAAIgB,GAAG,uBAAuBZ,EAAG,IAAI,CAACJ,EAAIgB,GAAG,4BAA4BZ,EAAG,IAAI,CAACJ,EAAIgB,GAAG,mCAAmC,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACJ,EAAIgB,GAAG,aAAa,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACJ,EAAIgB,GAAG,4B,6JCyJ3qB,GACE,KAAF,8BACE,WAAF,CAAI,KAAJ,QACE,KAHF,WAII,MAAJ,CACM,WAAN,GACM,KAAN,EACM,WAAN,EACM,eAAN,IACM,aAAN,IACM,QAAN,MAGE,QAbF,WAcI,KAAJ,0BACI,OAAJ,OAAI,CAAJ,4BACM,OAAN,SACM,UAAN,WAEI,OAAJ,OAAI,CAAJ,4BACM,OAAN,SACM,UAAN,UAEI,OAAJ,OAAI,CAAJ,wCAEE,SAAF,kBACA,yBACI,aAAJ,eACI,iBAAJ,mBACI,gBAAJ,kBACI,wBAAJ,4BALA,GAOA,4BACI,mBAAJ,qBACI,uBAAJ,yBACI,sBAAJ,wBACI,eAAJ,oBAGE,QAAF,kBACA,6GADA,GAEA,0DAFA,GAGA,iDAHA,CAII,eAJJ,WAIM,IAAN,OACM,KAAN,iBACM,YAAN,WACQ,EAAR,gBACA,MAGI,SAXJ,SAWA,KACM,KAAN,mCACA,MACU,EAAV,iBAEU,EAAV,oBAGM,KAAN,cAGI,WAtBJ,SAsBA,GAEA,oBACQ,KAAR,yBAEQ,KAAR,aACQ,OAAR,OAAQ,CAAR,4BACU,OAAV,SACU,UAAV,WAII,kBAlCJ,WAkCM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,gBACA,iCACA,4BACA,wCACA,2CACA,GANA,UACA,EADA,SAOA,8DAPA,iCASA,gBACkB,YAAlB,+BAVA,UASgByB,EAThB,QAYA,gBAZA,kCAcA,wCAdA,QAcgB,EAdhB,OAeA,eACkB,EAAlB,kCACkB,EAAlB,QAEkB,EAAlB,eACoB,QAApB,UACoB,YAApB,IArBA,wBAyBgB,EAAhB,eACkB,QAAlB,UACkB,YAAlB,IA3BA,gCA+BgB,EAAhB,eACkB,QAAlB,wBACkB,QAAlB,aAjCA,+CAqCI,OAvEJ,WAuEM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,gBACA,4BACA,4DACA,mDAJA,UACA,EADA,QAMA,cANA,iCAOA,gBACkB,YAAlB,4CARA,OAOgBA,EAPhB,OAUoBA,GAAoB,MAAbA,EAAIM,MACb,EAAlB,oBACkB,EAAlB,oBAEkB,EAAlB,eACoB,QAApB,UACoB,YAApB,IAhBA,wBAoBgB,EAAhB,eACkB,QAAlB,UACkB,YAAlB,IAtBA,iDA2BE,cAzIF,WA0II,OAAJ,OAAI,CAAJ,4BACM,OAAN,SACM,UAAN,SAEI,OAAJ,OAAI,CAAJ,0CC1SgZ,I,wBCQ5Yb,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCcf,GACE,KAAF,0BACE,WAAF,CACI,iBAAJ,OACI,SAAJ,OACI,SAAJ,OACI,UAAJ,EACI,QAAJ,OACI,SAAJ,QAEE,SAAF,kBACA,yBACI,MAAJ,QACI,YAAJ,cACI,aAAJ,eACI,gBAAJ,kBACI,iBAAJ,qBANA,GAQA,mCACI,OAAJ,YAGE,QAtBF,WAuBI,KAAJ,UACA,CACM,KAAN,OACM,UAAN,EACM,SAAN,EACM,IAAN,oBAEA,CACM,KAAN,OACM,UAAN,EACM,SAAN,EACM,IAAN,YAEA,CACM,KAAN,OACM,UAAN,EACM,SAAN,EACM,IAAN,YAEA,CACM,KAAN,OACM,UAAN,EACM,SAAN,EACM,IAAN,WAEA,CACM,KAAN,OACM,UAAN,EACM,SAAN,EACM,IAAN,aAEA,CACM,KAAN,OACM,UAAN,EACM,SAAN,EACM,IAAN,eAIE,QAAF,kBACA,mEADA,CAEI,cAFJ,WAEM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,gBACA,8BACA,gCACA,oDAJA,OACA,EADA,OAMA,gBACA,qBACA,GACA,qCATA,iDCjG4X,ICOxX,EAAY,eACd,EACAnC,EACAkC,GACA,EACA,KACA,KACA,MAIa,e,8BClBfpC,EAAOC,QAAU,szJ,gDCAjBD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,8+C,kCCAjB,yBAAuiB,EAAG,G,kCCA1iB,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGjB,EAAIuG,WAAW,OAAOnG,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAAEN,EAAIwG,aAAsB,UAAEpG,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,UAAUZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAIwG,aAAaC,gBAAgBzG,EAAIU,KAAMV,EAAI2C,KAAS,KAAEvC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,UAAUZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAI2C,KAAK0B,KAAOrE,EAAI2C,KAAK0B,KAAQrE,EAAI2C,KAAK+D,UAAY1G,EAAI2C,KAAK+D,UAAY1G,EAAIwG,aAAaC,cAAerG,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,WAAWZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAI2G,uBAAuB3G,EAAIU,KAAMV,EAAI2C,KAAQ,IAAEvC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,YAAYZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAI2C,KAAKiE,UAAU5G,EAAIU,KAAMV,EAAI2C,KAAiB,aAAEvC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,YAAYZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAI2C,KAAKkE,mBAAmB7G,EAAIU,KAAKN,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIgB,GAAG,WAAWZ,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIgB,GAAGhB,EAAIiB,GAAGjB,EAAI8G,cAAc9G,EAAI2C,KAAKoE,iBAAkB/G,EAAa,UAAEI,EAAG,MAAM,CAACE,YAAY,SAAS0G,SAAS,CAAC,UAAYhH,EAAIiB,GAAGjB,EAAIiH,cAAcjH,EAAIU,OAASV,EAAI8F,OAAOC,MAAMC,OAAOC,WAAwRjG,EAAIU,KAAhRN,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAAEN,EAAY,SAAEI,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,kBAAkB,KAAO,KAAK,gBAAgBX,EAAIkH,YAAY9G,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,sBAAsB,KAAO,OAAO,UAAY,eAAe,MACvvDsB,EAAkB,G,qHC+CtB,GACE,KAAF,WACE,MAAF,CACI,KAAJ,CACM,QAAN,IAEI,UAAJ,CACM,QAAN,qBAEI,UAAJ,CACM,QAAN,QAEI,IAAJ,CACM,QAAN,IAEI,SAAJ,CACM,SAAN,IAGE,SAAF,kBACA,yBACI,aAAJ,eACI,iBAAJ,mBACI,iBAAJ,mBACI,aAAJ,iBALA,GAOA,4BACI,mBAAJ,wBAGE,QA9BF,WA+BI,KAAJ,uCACI,KAAJ,iBAEE,cAlCF,WAmCI,KAAJ,oBAEE,QAAF,CACI,SADJ,WACM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,qEADA,OACA,EADA,OAEA,cACA,iBAEA,mDALA,gDCtFkV,I,wBCQ9UC,EAAY,eACd,EACAnC,EACAkC,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,2CCnBf,yBAA2nB,EAAG,G,qBCA9nBrC,EAAOC,QAAU,IAA0B,yC,qBCA3CD,EAAOC,QAAU,IAA0B,gC","file":"static/js/chunk-764ec899.73a277f4.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACICAMAAAACj/MaAAAAOVBMVEX////r9P/2+v/nTlf///+CuP+eyP+82P/b6v/K4f/2ub385+j1+//te4Lz+v/2//9rq//y+f/iLDcFWNIMAAAAEHRSTlPM0c71AvXr4Nbc2tHu6WwbJYny2gAAA/ZJREFUeNrt3ImO4yAMAFDsFmx6zDD5/49dkjTNnZgUKCvFI1W7Gql9A8ZcVdT1ev2Bx9+X4wE/HqKuv/hQBcQDfz2mDEutuaqfQixe86NAFROoHuVgHuqvHMzfiTkxJ+bEnJj/HQOknXPa2NiY5wUHU+nlKXgfcl0YjIp5VtXl3v3nfqmqfY1xfZiomFvVa2pLddt7F+uGYWNisNfILEqPMCZuAj9fmsYiSJkxxkUeTa1GapliIC4Ga8aleZG8ixljOHKdaRqlGg6rL2LUvcWILIm7qR3fvmFuoncZW3Ts6aC1iMa1UuxSDu3eItKYOL20gmktz6dQQyZKAV7GvCxtuZFoOIpldW5qC8xrgN9CMBAX86zGc9N+EU6IaZrm3pebsBTmyBjfIG/ATVaDFXJX+aiENbBNVWcOhf5UExNjPq3BMTH06YyQpmUOlr6YmNHMjYWMpsMdFREzmbuxJIz9KkZvLrEwL8ZtLT4tWSwFA0RkS8FYj6FSMFQQBil3N+l1DGTHmHUM1xjOiaF1jM2Omewr3TR/ISdm/cgIv4Axa5gmZShrBZ72E04weRdXk37icf7azBizsoag/Bg2K2uIpuQJRnYsDNqJZIjh9BjWWhtD1ieE0W4pRikjGNnHMeh2w44wmBCj9zFmWPIkxwFHMewEAYP8tdEwPAufrz5ldPPqM6dO0Cb0vGk4Lqb923ZiaYWFfcpwwpaZBSz1Hr1LXkSMJMCa2RDXff5CNgyvlRp493GeTRyT3iw1LB7ZH2KAzPbgpi5/bVqMn460pO5RcgyQllQ9n8EgH0yHMCyUNBiWD6ZwDMglDcamw6BxQWE6DMbHoA6zOEKSj+xATGC7+MkJAgZTGAZDLabL3wQYDrRo7FKG42NsIIa7kicbTCkxmt9TdgrMUjfpd5h6zfda9lkfzTKHAkb2ZxhteLD8318GRsXAgGGIcbwx2girUg5tUrOD1a3gBBi1cha/i4GMmHrBDv6nfXltTQaLdekFy0GM3t3YHLneDsNoCYZzY1xJLVMWBr/fTUaCgVrDUAamuXY7tPs5ilEFYfSJGQfJ7vMzY6gkDBeAsbKvH+fF6JIwVAKGZd8AyYvBEjAg+/ZxVowpAoO7KeMX5PUNFNUbSsiSM2ufwva1tfWg9p+AyTCgN0oe2np/Mvh0bFdZmATTX4guUXjxc2shx8aMT6AXF+ErTYCib1vJMbNbCphbLGztFuJtb83SiVTIH+9/z7GOXtevZbuW2zmAwYh3B3YHA3vnDBDzigdMczzk90LtrcF0NsjZMo2n73OA+bDeSQmwnOC4PnGcmBNzYk5MekxRDzYp6JEvUNbDcIp6TFBZD1Aq6NFS/wAw26+nN+IWwwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/img/tipMask.169d5e9a.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vueCropperWrap\"},[_c('div',{staticClass:\"imgWrap\",on:{\"click\":_vm.getCropImg}},[(!_vm.isTaked)?_c('img',{staticClass:\"takingImg\",attrs:{\"alt\":\"\",\"src\":_vm.photoSrc}}):_vm._e(),(_vm.isTaked)?_c('img',{staticClass:\"takingImg\",attrs:{\"alt\":\"\",\"src\":_vm.resultSrc}}):_vm._e(),(!_vm.isTaked)?_c('img',{staticClass:\"tipMask\",attrs:{\"alt\":\"\",\"src\":_vm.tipMask}}):_vm._e(),(_vm.active)?_c('i',[_c('img',{attrs:{\"alt\":\"\",\"src\":_vm.tick}})]):_vm._e()]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.isWorking ? _vm.clockTime : ''))]),(_vm.takingSrc)?_c('vue-cropper',{ref:\"cropper\",staticClass:\"vueCropper\",style:({width:_vm.width,height:_vm.height}),attrs:{\"img\":_vm.takingSrc,\"output-size\":_vm.option.outputSize,\"output-type\":_vm.option.outputType,\"info\":_vm.option.info,\"can-scale\":_vm.option.canScale,\"auto-crop\":_vm.option.autoCrop,\"auto-crop-width\":_vm.width,\"auto-crop-height\":_vm.height,\"fixed\":_vm.getFixed(),\"fixed-number\":_vm.size}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"vueCropperWrap\">\r\n        <div class=\"imgWrap\" @click=\"getCropImg\">\r\n            <img alt=\"\" class=\"takingImg\" v-if=\"!isTaked\" :src=\"photoSrc\">\r\n            <img alt=\"\" class=\"takingImg\" v-if=\"isTaked\" :src=\"resultSrc\">\r\n            <img alt=\"\" class=\"tipMask\" v-if=\"!isTaked\" :src=\"tipMask\">\r\n            <i v-if=\"active\"><img alt=\"\" :src=\"tick\"></i>\r\n        </div>\r\n        <p class=\"time\">{{ isWorking ? clockTime : '' }}</p>\r\n        <vue-cropper\r\n            v-if=\"takingSrc\"\r\n            class=\"vueCropper\"\r\n            :style=\"{width:width,height:height}\"\r\n            ref=\"cropper\"\r\n            :img=\"takingSrc\"\r\n            :output-size=\"option.outputSize\"\r\n            :output-type=\"option.outputType\"\r\n            :info=\"option.info\"\r\n            :can-scale=\"option.canScale\"\r\n            :auto-crop=\"option.autoCrop\"\r\n            :auto-crop-width=\"width\"\r\n            :auto-crop-height=\"height\"\r\n            :fixed=\"getFixed()\"\r\n            :fixed-number=\"size\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport { VueCropper } from 'vue-cropper'; // 裁剪插件\r\nimport { PHOTO_SIZE } from '@/constant/constant';\r\nimport { wsSend } from '@/utils/websocket';\r\nimport tick from '@/assets/images/tick.png';\r\nimport tipMask from '@/assets/images/photo/tipMask.png';\r\n\r\nexport default {\r\n    name: 'CropPhoto',\r\n    components: { VueCropper },\r\n    props: ['photoSrc', 'size', 'clickImg', 'id', 'takePhotoSrc', 'clearResPhoto'],\r\n    computed: {\r\n        ...mapState('permanent', {\r\n            singleReflexWebSocket: 'singleReflexWebSocket'\r\n        })\r\n    },\r\n    data () {\r\n        return {\r\n            tick: tick,\r\n            tipMask: tipMask, // 拍照遮罩框\r\n            active: false, // 选中哪一个\r\n            takingSrc: '', // 需裁剪的原始照片\r\n            resultSrc: '', // 裁剪之后的照片\r\n            isWorking: false, // 是否正在拍照\r\n            isTaked: false, // 是否裁剪完成\r\n            waitImgBack: false, // 等待聚焦拍照之间\r\n            clockTime: 3, // 倒计时间\r\n            intervalObj: null, // 定时器\r\n            width: PHOTO_SIZE.WIDTH,\r\n            height: PHOTO_SIZE.HEIGHT,\r\n            option: { // 裁剪框属性\r\n                info: false, // 裁剪框的大小信息\r\n                outputSize: 1, // 裁剪生成图片的质量\r\n                outputType: 'jpeg', // 裁剪生成图片的格式\r\n                canScale: false, // 图片是否允许滚轮缩放\r\n                autoCrop: true, // 是否默认生成截图框\r\n                canMoveBox: false, // 截图框能否拖动\r\n                centerBox: true, // 截图框是否被限制在图片里面\r\n                fixedBox: true\r\n            }\r\n        };\r\n    },\r\n    watch: {\r\n        takePhotoSrc (newVal) {\r\n            if (this.waitImgBack && newVal) {\r\n                this.getPhoto(newVal);\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations('permanent', ['setSingleReflexTakeImgSrc']),\r\n        getFixed () {\r\n            if (this.CONSTANT.disableTailoring) {\r\n                return false; // 证件照前端不裁剪\r\n            } else {\r\n                return !!this.size; // 证件照前端裁剪\r\n            }\r\n        },\r\n        // 获取裁剪之后的图片\r\n        getCropImg () {\r\n            this.clickImg(this.id, this.resultSrc);\r\n        },\r\n        // 改变选中状态\r\n        changeActive (flag) {\r\n            if (this.isTaked) {\r\n                this.active = flag;\r\n            }\r\n        },\r\n        // 拍照\r\n        getImg () {\r\n            this.active = false;\r\n            this.clockTime = 3;\r\n            this.isTaked = false;\r\n            this.isWorking = true;\r\n            this.intervalObj = setInterval(() => {\r\n                this.clockTime--;\r\n                if (this.clockTime === 0) {\r\n                    clearInterval(this.intervalObj);\r\n                    this.intervalObj = null;\r\n                    this.isWorking = false;\r\n                    this.waitImgBack = true;\r\n                    wsSend(this.singleReflexWebSocket, {\r\n                        module: 'Camera',\r\n                        directive: 'takePhoto'\r\n                    });\r\n                }\r\n            }, 1000);\r\n        },\r\n        // 截图\r\n        getPhoto (img) {\r\n            this.waitImgBack = false;\r\n            this.takingSrc = img;\r\n            if (this.CONSTANT.disableCompress) {\r\n                this.isTaked = true;\r\n                this.resultSrc = this.takingSrc;\r\n                this.$emit('startPhoto', this.id + 1);\r\n            } else {\r\n                setTimeout(() => {\r\n                    this.$refs.cropper.getCropData((data) => {\r\n                        this.isTaked = true;\r\n                        this.resultSrc = data;\r\n                        this.$emit('startPhoto', this.id + 1);\r\n                    });\r\n                }, 1000);\r\n            }\r\n        }\r\n    },\r\n    beforeDestroy () {\r\n        clearInterval(this.intervalObj);\r\n    }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .vueCropperWrap {\r\n        width: calc(35vh / 1056 * 704);\r\n\r\n        .vueCropper {\r\n            pointer-events: none;\r\n            visibility: hidden;\r\n        }\r\n\r\n        .imgWrap {\r\n            width: 100%;\r\n            height: 35vh;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            position: relative;\r\n            border: 1PX solid #ffffff; /*no*/\r\n            background: #ffffff;\r\n\r\n            .takingImg {\r\n                background: url(\"../assets/images/loading.gif\") center no-repeat;\r\n                max-height: 100%;\r\n                max-width: 100%;\r\n            }\r\n\r\n            > i {\r\n                position: absolute;\r\n                width: 30px;\r\n                height: 30px;\r\n                bottom: -50PX; /*no*/\r\n                img {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n\r\n            .tipMask {\r\n                width: 100%;\r\n                height: 100%;\r\n                position: absolute;\r\n                z-index: 99;\r\n                left: 0;\r\n                top: 0;\r\n                padding: 25px;\r\n                box-sizing: border-box;\r\n            }\r\n        }\r\n\r\n        .time {\r\n            font-size: 50px;\r\n            height: 50px;\r\n            width: 100%;\r\n            text-align: center;\r\n            color: #FFFFFF;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./crop-photo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./crop-photo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./crop-photo.vue?vue&type=template&id=52b157d5&scoped=true&\"\nimport script from \"./crop-photo.vue?vue&type=script&lang=js&\"\nexport * from \"./crop-photo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./crop-photo.vue?vue&type=style&index=0&id=52b157d5&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52b157d5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./complete.vue?vue&type=style&index=0&id=59e28f6f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./complete.vue?vue&type=style&index=0&id=59e28f6f&lang=scss&scoped=true&\"","import { idPicHandle } from '@/service/common';\r\nimport { cancelPrefix } from '@/utils/tools';\r\nimport axios from 'axios';\r\n\r\nexport const handlePhotoRequest = async (photo, CONSTANT) => {\r\n    if (!CONSTANT.disableDogHandle) {\r\n        let res = await axios.get('config/electronicDogData.json');\r\n        const params = res.data;\r\n        res = await idPicHandle({\r\n            base64: cancelPrefix(photo),\r\n            ...params\r\n        });\r\n        return res;\r\n    } else {\r\n        return { code: '0', obj: photo };\r\n    }\r\n};\r\n\r\nexport const handleDriverPhotoRequest = async (photo, CONSTANT) => {\r\n    if (!CONSTANT.disableDogHandle) {\r\n        let res = await axios.get('config/driverPhoto.json');\r\n        const params = res.data;\r\n        res = await idPicHandle({\r\n            base64: cancelPrefix(photo),\r\n            ...params\r\n        });\r\n        return res;\r\n    } else {\r\n        return { code: '0', obj: photo };\r\n    }\r\n};\r\n\r\nexport const handleExitEntryPhotoRequest = async (photo, CONSTANT) => {\r\n    if (!CONSTANT.disableDogHandle) {\r\n        let res = await axios.get('config/exitEntry.json');\r\n        const params = res.data;\r\n        res = await idPicHandle({\r\n            base64: cancelPrefix(photo),\r\n            ...params\r\n        });\r\n        return res;\r\n    } else {\r\n        return { code: '0', obj: photo };\r\n    }\r\n};\r\n\r\nexport const getDriverLicensePhoto = (photo) => {\r\n    const params = {\r\n        bgColor: 'white',\r\n        childTypes: [],\r\n        eyeYMax: 0.72,\r\n        eyeYMin: 0.5,\r\n        faceWidthMax: -1,\r\n        faceWidthMin: -1,\r\n        headHeightMax: 0.7,\r\n        headHeightMin: 0.5,\r\n        headtopMarginMax: 0.25,\r\n        headtopMarginMin: 0.05,\r\n        height: 368,\r\n        id: 20,\r\n        layout: [{ width: 260, height: 378, x: 208, y: 330, cornerX: 78, cornerY: 141, landscape: false }, { width: 260, height: 378, x: 546, y: 330, cornerX: 416, cornerY: 141, landscape: false }, { width: 260, height: 378, x: 884, y: 330, cornerX: 754, cornerY: 141, landscape: false }, { width: 260, height: 378, x: 1222, y: 330, cornerX: 1092, cornerY: 141, landscape: false }, { width: 260, height: 378, x: 1560, y: 330, cornerX: 1430, cornerY: 141, landscape: false }, { width: 260, height: 378, x: 208, y: 849, cornerX: 78, cornerY: 660, landscape: false }, { width: 260, height: 378, x: 546, y: 849, cornerX: 416, cornerY: 660, landscape: false }, { width: 260, height: 378, x: 884, y: 849, cornerX: 754, cornerY: 660, landscape: false }, { width: 260, height: 378, x: 1222, y: 849, cornerX: 1092, cornerY: 660, landscape: false }, { width: 260, height: 378, x: 1560, y: 849, cornerX: 1430, cornerY: 660, landscape: false }],\r\n        name: '驾驶证照相',\r\n        price: 0.01,\r\n        type: 0,\r\n        width: 260\r\n    };\r\n    if (photo) {\r\n        params.base64 = cancelPrefix(photo);\r\n    }\r\n    return params;\r\n};\r\n\r\nexport const getExitEntryPhoto = (photo) => {\r\n    const params = {\r\n        bgColor: 'white',\r\n        eyeYMax: 0.7,\r\n        eyeYMin: 0.55,\r\n        faceWidthMax: -1,\r\n        faceWidthMin: -1,\r\n        headHeightMax: -1,\r\n        headHeightMin: -1,\r\n        headtopMarginMax: 0.074,\r\n        headtopMarginMin: 0.025,\r\n        height: 472,\r\n        width: 354,\r\n        layout: [{ width: 354, height: 472, x: 248, y: 315, cornerX: 71, cornerY: 79, landscape: false }, { width: 354, height: 472, x: 673, y: 315, cornerX: 496, cornerY: 79, landscape: false }, { width: 354, height: 472, x: 1098, y: 315, cornerX: 921, cornerY: 79, landscape: false }, { width: 354, height: 472, x: 1523, y: 315, cornerX: 1346, cornerY: 79, landscape: false }, { width: 354, height: 472, x: 248, y: 866, cornerX: 71, cornerY: 630, landscape: false }, { width: 354, height: 472, x: 673, y: 866, cornerX: 496, cornerY: 630, landscape: false }, { width: 354, height: 472, x: 1098, y: 866, cornerX: 921, cornerY: 630, landscape: false }, { width: 354, height: 472, x: 1523, y: 866, cornerX: 1346, cornerY: 630, landscape: false }],\r\n        name: '出入境照相'\r\n    };\r\n    params.base64 = cancelPrefix(photo);\r\n    return params;\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'identifyCardPage'; }))?_c('identify-card-page'):_vm._e(),(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'faceYitu'; }))?_c('face-yitu'):_vm._e(),(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'contrast'; }))?_c('contrast',{attrs:{\"query-id-photo\":\"queryIdPhoto\"}}):_vm._e(),(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'process'; }))?_c('process',{attrs:{\"type\":1,\"handle-business\":_vm.updateIdPhoto}}):_vm._e(),(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'takePhoto'; }))?_c('take-photo'):_vm._e(),(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'complete'; }))?_c('complete',{attrs:{\"data\":_vm.result,\"foot-texts\":\"业务已受理，您的身份证照片已保存成功！\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.step === 1)?_c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\" 请调整好姿势 \")]),_c('div',{staticClass:\"kd-page-content-wrapper\"},[_c('div',{staticClass:\"photo-collection-box\"},[_c('div',{staticClass:\"left\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.correctPosture,\"alt\":\"\"}}),_c('img',{attrs:{\"src\":_vm.wrongPosture,\"alt\":\"\"}})])]),_c('div',{staticClass:\"center\"},[_c('img',{attrs:{\"src\":_vm.singleReflexImgSrc}})]),_c('div',{staticClass:\"right\"},[_vm._m(2),_vm._m(3),_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.machine,\"alt\":\"\"}})])])])])]):_vm._e(),(_vm.step === 2)?_c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\" 照片采集 \")]),_c('div',{staticClass:\"kd-page-content-wrapper\"},[_c('div',{staticClass:\"photo-collection-box\"},_vm._l((3),function(i,index){return _c('crop',{key:index,ref:\"photo\",refInFor:true,attrs:{\"id\":index,\"photo-src\":_vm.singleReflexImgSrc,\"take-photo-src\":_vm.singleReflexTakeImgSrc,\"click-img\":_vm.clickImg},on:{\"startPhoto\":_vm.startPhoto}})}),1),_c('div',{staticClass:\"finish-tip\"},[(_vm.finishTip)?_c('p',[_vm._v(\" 温馨提示：请选择您最满意的照片。 \")]):_vm._e()])])]):_vm._e(),(_vm.step === 3)?_c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\" 确认照片 \")]),_c('div',{staticClass:\"kd-page-content-wrapper collect-complete-box\"},[(_vm.singleReflexHandlePhoto)?_c('img',{attrs:{\"src\":_vm.singleReflexHandlePhoto,\"alt\":\"\"}}):_c('img',{attrs:{\"src\":require(\"../../../../../assets/images/default/cameraDefault.png\"),\"alt\":\"\"}})])]):_vm._e(),(!_vm.$store.state.common.visibleTip)?_c('div',{staticClass:\"kd-foot-button kd-foot-button-position\"},[_c('kd-button',{attrs:{\"icon\":\"kedaIcon-policework\",\"text\":\"返回首页\",\"type-class\":\"home\"}}),(_vm.step === 1)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circleleft\",\"text\":\"上一步\",\"button-handle\":function (){this$1.changeStep('up')}}}):_vm._e(),(_vm.step === 1)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circleleft\",\"text\":\"下一步\",\"button-handle\":_vm.startTakePhoto}}):_vm._e(),(_vm.step === 2)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circleleft\",\"text\":\"上一步\",\"button-handle\":function (){this$1.step--}}}):_vm._e(),(_vm.step === 2)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circleright\",\"text\":\"确定\",\"button-handle\":_vm.goDownHandlePhoto,\"but-disable\":!_vm.chosePhoto}}):_vm._e(),(_vm.step === 3)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circleleft\",\"text\":\"重拍\",\"button-handle\":function (){this$1.step = 1}}}):_vm._e(),(_vm.step === 3)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-circleleft\",\"text\":\"保存\",\"button-handle\":_vm.goNext}}):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"拍照须知\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"desc\"},[_c('p',[_vm._v(\"1.坐姿端正，双肩水平，平视镜头；\")]),_c('p',[_vm._v(\"2.不得化浓妆，脸部表情自然，眼睛自然睁开；\")]),_c('p',[_vm._v(\"3.头发不得遮挡眼睛，露出双耳，不得使用头部覆盖物；\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('p',[_vm._v(\"温馨提示\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"desc\"},[_c('p',[_vm._v(\"您可按机器上的上下箭头调整座椅高度。\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div v-if=\"step === 1\">\r\n            <div class=\"kd-page-title\">\r\n                请调整好姿势\r\n            </div>\r\n            <div class=\"kd-page-content-wrapper\">\r\n                <div class=\"photo-collection-box\">\r\n                    <div class=\"left\">\r\n                        <div class=\"title\">\r\n                            <p>拍照须知</p>\r\n                        </div>\r\n                        <div class=\"desc\">\r\n                            <p>1.坐姿端正，双肩水平，平视镜头；</p>\r\n                            <p>2.不得化浓妆，脸部表情自然，眼睛自然睁开；</p>\r\n                            <p>3.头发不得遮挡眼睛，露出双耳，不得使用头部覆盖物；</p>\r\n                        </div>\r\n                        <div class=\"img\">\r\n                            <img\r\n                                :src=\"correctPosture\"\r\n                                alt=\"\"\r\n                            >\r\n                            <img\r\n                                :src=\"wrongPosture\"\r\n                                alt=\"\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"center\">\r\n                        <img :src=\"singleReflexImgSrc\">\r\n                    </div>\r\n                    <div class=\"right\">\r\n                        <div class=\"title\">\r\n                            <p>温馨提示</p>\r\n                        </div>\r\n                        <div class=\"desc\">\r\n                            <p>您可按机器上的上下箭头调整座椅高度。</p>\r\n                        </div>\r\n                        <div class=\"img\">\r\n                            <img\r\n                                :src=\"machine\"\r\n                                alt=\"\"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div v-if=\"step === 2\">\r\n            <div class=\"kd-page-title\">\r\n                照片采集\r\n            </div>\r\n            <div class=\"kd-page-content-wrapper\">\r\n                <div class=\"photo-collection-box\">\r\n                    <crop\r\n                        v-for=\"(i,index) in 3\"\r\n                        :id=\"index\"\r\n                        :key=\"index\"\r\n                        ref=\"photo\"\r\n                        :photo-src=\"singleReflexImgSrc\"\r\n                        :take-photo-src=\"singleReflexTakeImgSrc\"\r\n                        :click-img=\"clickImg\"\r\n                        @startPhoto=\"startPhoto\"\r\n                    />\r\n                </div>\r\n                <div class=\"finish-tip\">\r\n                    <p v-if=\"finishTip\">\r\n                        温馨提示：请选择您最满意的照片。\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div v-if=\"step === 3\">\r\n            <div class=\"kd-page-title\">\r\n                确认照片\r\n            </div>\r\n            <div class=\"kd-page-content-wrapper collect-complete-box\">\r\n                <img\r\n                    v-if=\"singleReflexHandlePhoto\"\r\n                    :src=\"singleReflexHandlePhoto\"\r\n                    alt=\"\"\r\n                >\r\n                <img\r\n                    v-else\r\n                    src=\"../../../../../assets/images/default/cameraDefault.png\"\r\n                    alt=\"\"\r\n                >\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"kd-foot-button kd-foot-button-position\" v-if=\"!$store.state.common.visibleTip\">\r\n            <kd-button\r\n                icon=\"kedaIcon-policework\"\r\n                text=\"返回首页\"\r\n                type-class=\"home\"\r\n            />\r\n            <kd-button\r\n                v-if=\"step === 1\"\r\n                icon=\"kedaIcon-circleleft\"\r\n                text=\"上一步\"\r\n                :button-handle=\"()=>{this.changeStep('up')}\"\r\n            />\r\n            <kd-button\r\n                v-if=\"step === 1\"\r\n                icon=\"kedaIcon-circleleft\"\r\n                text=\"下一步\"\r\n                :button-handle=\"startTakePhoto\"\r\n            />\r\n\r\n            <kd-button\r\n                v-if=\"step === 2\"\r\n                icon=\"kedaIcon-circleleft\"\r\n                text=\"上一步\"\r\n                :button-handle=\"()=>{this.step--}\"\r\n            />\r\n            <kd-button\r\n                v-if=\"step === 2\"\r\n                icon=\"kedaIcon-circleright\"\r\n                text=\"确定\"\r\n                :button-handle=\"goDownHandlePhoto\"\r\n                :but-disable=\"!chosePhoto\"\r\n            />\r\n\r\n            <kd-button\r\n                v-if=\"step === 3\"\r\n                icon=\"kedaIcon-circleleft\"\r\n                text=\"重拍\"\r\n                :button-handle=\"()=>{this.step = 1}\"\r\n            />\r\n            <kd-button\r\n                v-if=\"step === 3\"\r\n                icon=\"kedaIcon-circleleft\"\r\n                text=\"保存\"\r\n                :button-handle=\"goNext\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport crop from '@/components/crop-photo';\r\n\r\nimport { checkIdInfo, savePhotoClient } from '../../../../../service/common';\r\nimport { cancelPrefix } from '@/utils/tools';\r\n\r\nimport { saveOriginPhoto, updatePhotoComplete } from '@/service/human/identify-card';\r\nimport { wsSend } from '@/utils/websocket';\r\n\r\nimport correctPosture from '@/assets/images/correctPosture.png';\r\nimport wrongPosture from '@/assets/images/wrongPosture.png';\r\nimport machine from '@/assets/images/machine.png';\r\nimport { handlePhotoRequest } from '@/utils/axiosHandle';\r\n\r\nexport default {\r\n    name: 'IdCardPhotoCollectTakePhoto',\r\n    components: { crop },\r\n    data () {\r\n        return {\r\n            chosePhoto: '',\r\n            step: 1,\r\n            finishTip: false,\r\n            correctPosture: correctPosture,\r\n            wrongPosture: wrongPosture,\r\n            machine: machine\r\n        };\r\n    },\r\n    mounted () {\r\n        this.setSingleReflexImgSrc('');\r\n        wsSend(this.singleReflexWebSocket, {\r\n            module: 'Camera',\r\n            directive: 'reOpen'\r\n        });\r\n        wsSend(this.singleReflexWebSocket, {\r\n            module: 'Camera',\r\n            directive: 'start'\r\n        });\r\n        wsSend(this.lightWebSocket, 'lightCtrl@B5:ON');\r\n    },\r\n    computed: {\r\n        ...mapState('common', {\r\n            identifyCard: 'identifyCard',\r\n            businessTypeCode: 'businessTypeCode',\r\n            binocularCamera: 'binocularCamera',\r\n            singleReflexHandlePhoto: 'singleReflexHandlePhoto'\r\n        }),\r\n        ...mapState('permanent', {\r\n            singleReflexImgSrc: 'singleReflexImgSrc',\r\n            singleReflexTakeImgSrc: 'singleReflexTakeImgSrc',\r\n            singleReflexWebSocket: 'singleReflexWebSocket',\r\n            lightWebSocket: 'lightWebSocket'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['changeStep', 'changeTipPage', 'setSingleReflexHandlePhoto', 'setSingleReflexImgSrc']),\r\n        ...mapMutations('permanent', ['setSingleReflexTakeImgSrc']),\r\n        ...mapMutations('idCardProcessing', ['setResult']),\r\n        startTakePhoto () {\r\n            this.step = this.step + 1;\r\n            setTimeout(() => {\r\n                this.startPhoto(0);\r\n            }, 1000);\r\n        },\r\n        // 选择图片\r\n        clickImg (id, resultSrc) {\r\n            this.$refs.photo.forEach((thisVue, index) => {\r\n                if (index === id) {\r\n                    thisVue.changeActive(true);\r\n                } else {\r\n                    thisVue.changeActive(false);\r\n                }\r\n            });\r\n            this.chosePhoto = resultSrc;\r\n        },\r\n        // 拍照触发事件\r\n        startPhoto (index) {\r\n            // this.setSingleReflexTakeImgSrc('');\r\n            if (this.$refs.photo[index]) {\r\n                this.$refs.photo[index].getImg();\r\n            } else {\r\n                this.finishTip = true;\r\n                wsSend(this.singleReflexWebSocket, {\r\n                    module: 'Camera',\r\n                    directive: 'stop'\r\n                });\r\n            }\r\n        },\r\n        async goDownHandlePhoto () {\r\n            let res = await checkIdInfo({\r\n                sfzmhm: this.identifyCard.certNumber,\r\n                xm: this.identifyCard.partyName,\r\n                photo: cancelPrefix(this.binocularCamera),\r\n                identityPic: cancelPrefix(this.chosePhoto)\r\n            }, true);\r\n            if (res && res.result && res.result.respData && res.result.respData.code === '0') {\r\n                // 保存原始照片\r\n                res = await saveOriginPhoto({\r\n                    originPhoto: cancelPrefix(this.chosePhoto)\r\n                });\r\n                if (res && res.code === '0') {\r\n                    // 处理照片\r\n                    res = await handlePhotoRequest(this.chosePhoto, this.CONSTANT);\r\n                    if (res && res.code === 1) {\r\n                        this.setSingleReflexHandlePhoto(res.obj);\r\n                        this.step = 3;\r\n                    } else {\r\n                        this.changeTipPage({\r\n                            message: res.message,\r\n                            enableBack: true\r\n                        });\r\n                    }\r\n                } else {\r\n                    this.changeTipPage({\r\n                        message: res.message,\r\n                        enableBack: true\r\n                    });\r\n                }\r\n            } else {\r\n                this.changeTipPage({\r\n                    message: '检测结果与身份证信息不匹配，请您重新检测…',\r\n                    imgName: 'imgTexts'\r\n                });\r\n            }\r\n        },\r\n        async goNext () {\r\n            let res = await savePhotoClient({\r\n                filePath: this.businessTypeCode,\r\n                fileName: this.identifyCard.partyName + this.identifyCard.certNumber,\r\n                base64: cancelPrefix(this.singleReflexHandlePhoto)\r\n            });\r\n            if (res && res.code === 1) {\r\n                res = await updatePhotoComplete({\r\n                    handlePhoto: cancelPrefix(this.singleReflexHandlePhoto)\r\n                });\r\n                if (res && res.code === '0') {\r\n                    this.setResult(res.result);\r\n                    this.changeStep('down');\r\n                } else {\r\n                    this.changeTipPage({\r\n                        message: res.message,\r\n                        enableBack: true\r\n                    });\r\n                }\r\n            } else {\r\n                this.changeTipPage({\r\n                    message: res.message,\r\n                    enableBack: true\r\n                });\r\n            }\r\n        }\r\n    },\r\n    beforeDestroy () {\r\n        wsSend(this.singleReflexWebSocket, {\r\n            module: 'Camera',\r\n            directive: 'stop'\r\n        });\r\n        wsSend(this.lightWebSocket, 'lightCtrl@B5:OFF');\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .photo-collection-box {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        padding: 40px 32px;\r\n\r\n        .left {\r\n            width: 320px;\r\n\r\n            .title {\r\n                font-size: 26px;\r\n                margin-bottom: 20px;\r\n            }\r\n\r\n            .desc {\r\n                font-size: 20px;\r\n                margin-bottom: 24px;\r\n\r\n                p {\r\n                    margin-bottom: 4px;\r\n                    line-height: 28px;\r\n                }\r\n            }\r\n\r\n            .img {\r\n                display: flex;\r\n\r\n                img {\r\n                    margin: 0 10px;\r\n                    max-width: 100%;\r\n                    max-height: 100%;\r\n                }\r\n            }\r\n        }\r\n\r\n        .center {\r\n            text-align: center;\r\n            width: 300px;\r\n            height: 428px;\r\n            overflow: hidden;\r\n            display: flex;\r\n            justify-content: center;\r\n            vertical-align: center;\r\n\r\n            img {\r\n                background: url(\"../../../../../assets/images/loading.gif\") center no-repeat;\r\n                height: 100%;\r\n                width: 100%;\r\n            }\r\n        }\r\n\r\n        .right {\r\n            width: 300px;\r\n\r\n            .title {\r\n                font-size: 26px;\r\n                margin-bottom: 20px;\r\n            }\r\n\r\n            .desc {\r\n                font-size: 20px;\r\n                margin-bottom: 30px;\r\n\r\n                p {\r\n                    margin-bottom: 4px;\r\n                    line-height: 28px;\r\n                }\r\n            }\r\n\r\n            .img {\r\n                display: flex;\r\n\r\n                img {\r\n                    margin: 0 20px;\r\n                    max-width: 100%;\r\n                    max-height: 100%;\r\n                }\r\n            }\r\n\r\n            .tip {\r\n                margin-top: 50px;\r\n                color: #FF7314;\r\n                font-size: 28px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .finish-tip {\r\n        font-size: 22px;\r\n        margin-left: 110px;\r\n    }\r\n\r\n    .collect-complete-box {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        img {\r\n            max-width: 100%;\r\n            max-height: 100%;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./take-photo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./take-photo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./take-photo.vue?vue&type=template&id=051626a9&scoped=true&\"\nimport script from \"./take-photo.vue?vue&type=script&lang=js&\"\nexport * from \"./take-photo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./take-photo.vue?vue&type=style&index=0&id=051626a9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"051626a9\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <identify-card-page v-if=\"currentStep === steps.findIndex(step=>step.key === 'identifyCardPage')\"/>\r\n        <face-yitu v-if=\"currentStep === steps.findIndex(step=>step.key === 'faceYitu')\"/>\r\n        <contrast\r\n            v-if=\"currentStep === steps.findIndex(step=>step.key === 'contrast')\"\r\n            query-id-photo=\"queryIdPhoto\"\r\n        />\r\n        <process\r\n            :type=\"1\"\r\n            v-if=\"currentStep === steps.findIndex(step=>step.key === 'process')\"\r\n            :handle-business=\"updateIdPhoto\"\r\n        />\r\n        <take-photo v-if=\"currentStep === steps.findIndex(step=>step.key === 'takePhoto')\"/>\r\n        <complete\r\n            v-if=\"currentStep === steps.findIndex(step=>step.key === 'complete')\"\r\n            :data=\"result\"\r\n            foot-texts=\"业务已受理，您的身份证照片已保存成功！\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport identifyCardPage from '@/view/public/before-work/identify-card-page';\r\nimport faceYitu from '@/view/public/before-work/face-yitu';\r\nimport contrast from '@/view/public/before-work/contrast';\r\nimport process from '@/components/process';\r\nimport takePhoto from './components/take-photo';\r\nimport complete from '@/components/complete';\r\nimport { updateIdPhoto } from '@/service/human/identify-card';\r\nimport { cancelPrefix } from '@/utils/tools';\r\n\r\nexport default {\r\n    name: 'IdCardPhotoCollectIndex',\r\n    components: {\r\n        identifyCardPage,\r\n        faceYitu,\r\n        contrast,\r\n        takePhoto,\r\n        process,\r\n        complete\r\n    },\r\n    computed: {\r\n        ...mapState('common', {\r\n            steps: 'steps',\r\n            currentStep: 'currentStep',\r\n            identifyCard: 'identifyCard',\r\n            binocularCamera: 'binocularCamera',\r\n            businessTypeCode: 'businessTypeCode'\r\n        }),\r\n        ...mapState('idCardProcessing', {\r\n            result: 'result'\r\n        })\r\n    },\r\n    mounted () {\r\n        this.setSteps([\r\n            {\r\n                name: '身份识别',\r\n                isActive: true,\r\n                visible: true,\r\n                key: 'identifyCardPage'\r\n            },\r\n            {\r\n                name: '身份识别',\r\n                isActive: false,\r\n                visible: false,\r\n                key: 'faceYitu'\r\n            },\r\n            {\r\n                name: '身份识别',\r\n                isActive: false,\r\n                visible: false,\r\n                key: 'contrast'\r\n            },\r\n            {\r\n                name: '身份识别',\r\n                isActive: false,\r\n                visible: false,\r\n                key: 'process'\r\n            },\r\n            {\r\n                name: '照片采集',\r\n                isActive: false,\r\n                visible: true,\r\n                key: 'takePhoto'\r\n            },\r\n            {\r\n                name: '办理完成',\r\n                isActive: false,\r\n                visible: true,\r\n                key: 'complete'\r\n            }\r\n        ]);\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['changeStep', 'setSteps', 'changeTipPage']),\r\n        async updateIdPhoto () {\r\n            const res = await updateIdPhoto({\r\n                name: this.identifyCard.partyName,\r\n                idNum: this.identifyCard.certNumber,\r\n                identifiedPhoto: cancelPrefix(this.binocularCamera)\r\n            });\r\n            if (res && res.code === '0') {\r\n                this.changeStep('down');\r\n            } else if (res) {\r\n                this.changeTipPage({ message: res.message });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a2328652&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAzLTIzVDE3OjI1OjEwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xOVQxMzo0Njo0OSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNS0xOVQxMzo0Njo0OSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxYTBlNGYxYy0wYjRl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\"","module.exports = __webpack_public_path__ + \"static/img/machine.3a3781cd.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACICAMAAAACj/MaAAAAM1BMVEX///+QwP+pzv97tP/v9v/5//8Mvxi82P/b6v/J4f/S9NX1+/9O0Vfz+v+Z5J1rq//y+f9nA1sWAAAAD3RSTlPM8Of40Ab+4Nbc0+7ubN6fuYYkAAADy0lEQVR42u3cCa+jIBAAYI5pmelF//+vXdSq1WflkGOykWSzb5NN/B7MwABGcblcnnB/N253eDqIuFzgLhi0O3QYHpZeI55MLE7zFCDYNBB3Ppi7ePPBvE/MiTkxJ+bEnJhQzOsRt/oaqa3Vkgpgbo9rFMbYsUnIjXld4yzKzk3mxUCsBe13o5wYeERahFxgZEaMC5frFQ5gLGTD3BzlehNHMHgU8/gAUiyL+I0Mmi1MNzSv0fISbTE94jH+FdtyD9PAuKYMkhB6iTmeTb0maZBW00yW1P5o4gfpay2IzuyfqX1LHCRBi5gxeZaDW1rHuDk72bIz6d2SOmaJwVwYtxQIPpjUpnTaml2o7AT8eDS0x8wJLjlgMCmfCmGmKNbQHkNTDKv2mHka1s0xlFbQlEltnbZuF8Esij3dFoOptV4JzKrwNC0xq475YMhgC8xqezDMNGiMoQYYvdUzHcbUx4Ddwpg2GFpjqD8+ajNM65DpNwhsMFPIYHuMHBKbB0ZN8csAg2PIGGiO0VPI+JeF4hjFCUNT/FJzzFDNmOoYICXX69KQ2BCWTAcwKLWWyhC5MVBK/nWsVsmSGNh+uN1I7CFk/JmdjpFBluHkqjQGbQTGhGV2MkZZFzAuYPu4UaoLGvePbQwEJlMoBv2t7wNYhxJM8ZsNM/xunjb8142eocBkyt0zf2IJp5BB0XzSw6lboRoGzY9Jj8aQqYRBtTPnmAlTfkf5s0e+MBSaTEcwLkb8S4Ia47ckBkzYeqDG+MVSGFQ6cDVwJQSWxEC4pMdQcDJFY0DZqDZhCpzPgIyzuLLTFMNE9kv3akZ4MsViYi1WYTEMRmOIwpMpEkM2NWQYYCSMlRBUGSb9aVLLvnUlqOqCxLWuzIlIpoMYqVDMGyN/GZgVMx8eui74igPyWagoZvmrejEoSs4zihNGrgt2wPnPMDJ/ivXcGB1yi4QRnZEFo727LCaY6j1jGfSMDMFgdcxOgkCnQeCB6eYdEqI4RoW9ZVYZozlhJCeMYoAxYZfVlTHIAENhr2zWxUhOGMUBg2Fv6NTFCA4YCHtBpypGccLQXv2A/Wa/209ClZj59RQcbkYdhIbjB8JymPHO5MdRbPfwLyfEVlkxGFR79QNuPrcTYm7M8gR6swjH39GccxNHUnvemce9B0Lg8UwQRm7fyS7Ggva7NSxyQjB66+JmUVh4DmAg490BeTDgOyeDnFc8/Qm9lq6vsb+/WBcQNXtmmDO2fpxnXfDkYoHTzsLtxJyYE/OfYlh92ITVJ19YfQyH1WeCeH1AidGnpf4BxKKgUxsfLXoAAAAASUVORK5CYII=\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./crop-photo.vue?vue&type=style&index=0&id=52b157d5&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./crop-photo.vue?vue&type=style&index=0&id=52b157d5&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\" \"+_vm._s(_vm.pageTitle)+\" \")]),_c('div',{staticClass:\"kd-page-content-wrapper wrap-info\"},[(_vm.identifyCard.partyName)?_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"办理人：\")]),_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.identifyCard.partyName))])]):_vm._e(),(_vm.data.name)?_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"申请人：\")]),_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.data.name ? _vm.data.name : (_vm.data.applyName ? _vm.data.applyName : _vm.identifyCard.partyName)))]),_c('span',{staticClass:\"label\"},[_vm._v(\"申请业务：\")]),_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.businessTypeName))])]):_vm._e(),(_vm.data.slh)?_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"业务受理号：\")]),_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.data.slh))])]):_vm._e(),(_vm.data.serialNumber)?_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"业务流水号：\")]),_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.data.serialNumber))])]):_vm._e(),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"申请日期：\")]),_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.$momentFormat(_vm.data.applyTime)))])]),(_vm.footTexts)?_c('div',{staticClass:\"footer\",domProps:{\"innerHTML\":_vm._s(_vm.footTexts)}}):_vm._e()]),(!_vm.$store.state.common.visibleTip)?_c('div',{staticClass:\"kd-foot-button kd-foot-button-position\"},[(_vm.printBut)?_c('kd-button',{attrs:{\"icon\":\"kedaIcon-duigou\",\"text\":\"打印\",\"button-handle\":_vm.nextStep}}):_c('kd-button',{attrs:{\"icon\":\"kedaIcon-policework\",\"text\":\"业务完成\",\"typeClass\":\"complete\"}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"kd-page-title\">\r\n            {{ pageTitle }}\r\n        </div>\r\n        <div class=\"kd-page-content-wrapper wrap-info\">\r\n            <div class=\"item\" v-if=\"identifyCard.partyName\">\r\n                <span class=\"label\">办理人：</span>\r\n                <span class=\"message\">{{ identifyCard.partyName }}</span>\r\n            </div>\r\n            <div class=\"item\" v-if=\"data.name\">\r\n                <span class=\"label\">申请人：</span>\r\n                <span class=\"message\">{{ data.name ? data.name : (data.applyName ? data.applyName : identifyCard.partyName) }}</span>\r\n                <span class=\"label\">申请业务：</span>\r\n                <span class=\"message\">{{ businessTypeName }}</span>\r\n            </div>\r\n            <div\r\n                class=\"item\"\r\n                v-if=\"data.slh\"\r\n            >\r\n                <span class=\"label\">业务受理号：</span>\r\n                <span class=\"message\">{{ data.slh }}</span>\r\n            </div>\r\n            <div class=\"item\" v-if=\"data.serialNumber\">\r\n                <span class=\"label\">业务流水号：</span>\r\n                <span class=\"message\">{{ data.serialNumber }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n                <span class=\"label\">申请日期：</span>\r\n                <span class=\"message\">{{ $momentFormat(data.applyTime) }}</span>\r\n            </div>\r\n            <div class=\"footer\" v-if=\"footTexts\" v-html=\"footTexts\"></div>\r\n        </div>\r\n        <div class=\"kd-foot-button kd-foot-button-position\" v-if=\"!$store.state.common.visibleTip\">\r\n            <kd-button v-if=\"printBut\" icon=\"kedaIcon-duigou\" text=\"打印\" :button-handle=\"nextStep\"/>\r\n            <kd-button v-else icon=\"kedaIcon-policework\" text=\"业务完成\" typeClass=\"complete\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport audioObj from '@/assets/media/common/10.mp3';\r\nimport { playAudio } from '@/utils/media';\r\nimport { cancelPrefix } from '@/utils/tools';\r\nimport { logout } from '@/utils';\r\nimport { printPhotoBase } from '@/service/common';\r\n\r\nexport default {\r\n    name: 'Complete',\r\n    props: {\r\n        data: {\r\n            default: {}\r\n        },\r\n        footTexts: {\r\n            default: '温馨提示：业务已受理，请耐心等待！'\r\n        },\r\n        pageTitle: {\r\n            default: '提交完成'\r\n        },\r\n        mp3: {\r\n            default: ''\r\n        },\r\n        printBut: {\r\n            default: false\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('common', {\r\n            identifyCard: 'identifyCard',\r\n            businessTypeCode: 'businessTypeCode',\r\n            businessTypeName: 'businessTypeName',\r\n            dogHandlePic: 'dogHandlePic'\r\n        }),\r\n        ...mapState('permanent', {\r\n            BUSINESS_CODE_NAME: 'BUSINESS_CODE_NAME'\r\n        })\r\n    },\r\n    mounted () {\r\n        this.audioObj = playAudio(this.mp3 || audioObj);\r\n        this.audioObj.play();\r\n    },\r\n    beforeDestroy () {\r\n        this.audioObj.destroy();\r\n    },\r\n    methods: {\r\n        async nextStep () {\r\n            const result = await printPhotoBase({ printCount: 1, base64: cancelPrefix(this.dogHandlePic) });\r\n            if (result && result.code === 1) {\r\n                logout();\r\n            } else {\r\n                this.changeTipPage({ message: result.message, enableBack: true });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .wrap-info {\r\n        box-sizing: border-box;\r\n        padding: 70px 0;\r\n\r\n        .item {\r\n            display: flex;\r\n            margin-bottom: 30px;\r\n\r\n            .label {\r\n                width: 250px;\r\n                text-align: right;\r\n                font-size: 26px;\r\n                color: rgba(255, 255, 255, 1);\r\n                line-height: 37px;\r\n            }\r\n\r\n            .message {\r\n                font-size: 26px;\r\n                color: rgba(255, 255, 255, 1);\r\n                line-height: 37px;\r\n            }\r\n        }\r\n\r\n        .footer {\r\n            box-sizing: border-box;\r\n            padding: 0 5vh 5vh 5vh;\r\n            font-size: 2.2vh;\r\n            color: red;\r\n            line-height: 4vh;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n            z-index: 1;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./complete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./complete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./complete.vue?vue&type=template&id=59e28f6f&scoped=true&\"\nimport script from \"./complete.vue?vue&type=script&lang=js&\"\nexport * from \"./complete.vue?vue&type=script&lang=js&\"\nimport style0 from \"./complete.vue?vue&type=style&index=0&id=59e28f6f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59e28f6f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./take-photo.vue?vue&type=style&index=0&id=051626a9&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./take-photo.vue?vue&type=style&index=0&id=051626a9&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"static/img/cameraDefault.f50c8814.png\";","module.exports = __webpack_public_path__ + \"static/media/10.4d0df920.mp3\";"],"sourceRoot":""}