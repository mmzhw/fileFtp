(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51d27189"],{2647:function(e,t,n){"use strict";var a=n("9e00"),s=n.n(a);s.a},"2fda":function(e,t,n){e.exports=n.p+"static/media/15.6d872395.mp3"},"35f4":function(e,t,n){},"3bf6":function(e,t,n){"use strict";var a=n("b414"),s=n.n(a);s.a},"6fbf":function(e,t,n){"use strict";var a=n("7481"),s=n.n(a);s.a},7481:function(e,t,n){},"83b7":function(e,t,n){e.exports=n.p+"static/img/wait_card.aa7211fb.png"},"8a93":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visibleTip?e._e():n("div",{staticClass:"progress-div"},[n("div",{staticClass:"middle"},[n("div",{staticClass:"topWrap"},[n("img",{staticClass:"waitImg",attrs:{src:e.img,alt:""}}),n("div",{staticClass:"timeWrap"},[e._v(e._s(e.time))])]),n("div",{staticClass:"process-static"},[n("div",{staticClass:"process-active",style:{width:e.percent+"%"}})]),n("p",{staticClass:"text"},[e._v(" "+e._s(e.waitText)+" ")])])])},s=[],i=(n("a9e3"),n("5530")),r=n("83b7"),c=n.n(r),o=n("2f62"),u=n("2fda"),p=n.n(u),d=n("541b"),l={name:"Process",props:{audio:{default:""},goToRoute:{type:String},type:{type:Number},img:{default:c.a},waitText:{default:"正在处理中, 请耐心等待......"},percent:{default:100},handleBusiness:{default:null}},data:function(){return{time:1,intervalId:null}},methods:Object(i["a"])({},Object(o["c"])("common",["changeStep"]),{startTime:function(){var e=this;this.time=1,this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((function(){e.time++}),1e3)}}),computed:Object(i["a"])({},Object(o["d"])("common",{visibleTip:"visibleTip"})),beforeDestroy:function(){this.audioObj.destroy(),clearInterval(this.intervalId)},watch:{type:function(){this.audioObj&&(this.audioObj.destroy(),this.audioObj=null),this.audioObj=Object(d["a"])(this.audio||p.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")},visibleTip:function(){this.visibleTip||(this.goToRoute?this.changeStep(this.goToRoute):this.changeStep("up"))}},mounted:function(){this.audioObj=Object(d["a"])(this.audio||p.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")}},f=l,m=(n("3bf6"),n("2877")),b=Object(m["a"])(f,a,s,!1,null,"1fc51ae4",null);t["a"]=b.exports},"926f":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return f}));var a=n("b775"),s=function(e){return a["a"].ajax("/ssm/zw/population/provingFaceRecognition","post",e)},i=function(e){return a["a"].ajax("/ssm/zw/population/wfzUsages","get",e)},r=function(e){return a["a"].ajax("/ssm/zw/population/getProvingResult","post",e)},c=function(e){return a["a"].ajax("/ssm/zw/population/preCheck","post",e)},o=function(e){return a["a"].ajax("/ssm/zw/population/finishProving","post",e)},u=function(e){return a["a"].ajax("/ssm/zw/population/saveRecommendPhoto","post",e)},p=function(e){return a["a"].ajax("/ssm/commonzwapi/precheck","post",e)},d=function(e){return a["a"].ajax("/ssm/zw/population/noCriminalFaceRecognition","post",e)},l=function(e){return a["a"].ajax("/ssm/zw/population/pushPersonInfo","post",e)},f=function(e){return a["a"].ajax("/ssm/zw/population/finish","post",e)}},"99f1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.currentStep===e.steps.findIndex((function(e){return"identifyCardPage"===e.key}))?n("identify-card-page"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"faceYitu"===e.key}))?n("face-yitu"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"contrast"===e.key}))?n("contrast"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"process"===e.key}))?n("process",{attrs:{type:1,"handle-business":e.handleBusiness}}):e._e(),e.currentStep===e.steps.findIndex((function(e){return"acceptance"===e.key}))?n("acceptance"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"modelPreview"===e.key}))?n("process",{attrs:{type:2,"handle-business":e.getModelPre}}):e._e(),e.currentStep===e.steps.findIndex((function(e){return"personInfo"===e.key}))?n("person-info"):e._e(),e.currentStep===e.steps.findIndex((function(e){return"print"===e.key}))?n("process",{attrs:{type:3,"handle-business":e.handlePrint,"wait-text":"正在打印中，请稍等"}}):e._e(),e.currentStep===e.steps.findIndex((function(e){return"complete"===e.key}))?n("complete",{attrs:{"page-title":"办理完成",data:e.relationCompleteRes}}):e._e()],1)},s=[],i=(n("96cf"),n("1da1")),r=n("5530"),c=n("2f62"),o=n("f7ef"),u=n("943e"),p=n("f5a9"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"kd-page-title"},[e._v(" 核对信息 ")]),n("div",{staticClass:"kd-page-content-wrapper kd-page-padding wrap-info flex-col"},[n("img",{attrs:{src:e.printImgUrls[0],alt:""}})]),e.$store.state.common.visibleTip?e._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),n("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":e.nextStep}})],1)])},l=[],f={name:"RelationshipPersonInfo",computed:Object(r["a"])({},Object(c["d"])("common",{printImgUrls:"printImgUrls"})),methods:Object(r["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{nextStep:function(){this.changeStep("down")}})},m=f,b=(n("6fbf"),n("2877")),h=Object(b["a"])(m,d,l,!1,null,"476005fc",null),v=h.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"kd-page-title"},[e._v(" 请输入亲属身份证号 ")]),n("div",{staticClass:"kd-page-content-wrapper"},[n("kd-full-input",{staticClass:"inputClass",attrs:{"ime-type":3,placeholder:"请输入身份证号","watch-data":e.getValue,"limit-number":18}})],1),e.$store.state.common.visibleTip?e._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),n("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":e.nextStep}})],1)])},y=[],j=n("926f"),C=n("b893"),x=n("faf3"),k={name:"RelationshipAcceptance",data:function(){return{peopleIdNum:""}},methods:Object(r["a"])({},Object(c["c"])("common",["changeStep","changeTipPage"]),{},Object(c["c"])("relation",["setRelationRes"]),{getValue:function(e){this.peopleIdNum=e},nextStep:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object(C["d"])(e.peopleIdNum)){t.next=7;break}return t.next=3,Object(j["c"])({relationIdNum:e.peopleIdNum});case 3:n=t.sent,n&&"0"===n.code?(e.setRelationRes(n.result),e.changeStep("down")):n&&e.changeTipPage({message:n.message,enableBack:!0}),t.next=8;break;case 7:e.errorMsg="身份证格式书写有误";case 8:case"end":return t.stop()}}),t)})))()}}),beforeDestroy:function(){Object(x["t"])()}},w=k,_=(n("ca2a"),Object(b["a"])(w,g,y,!1,null,"8a05ccfe",null)),O=_.exports,I=n("8a93"),T=n("c4c3"),S=n("ed08"),R={name:"RelationshipIndex",components:{identifyCardPage:o["a"],faceYitu:u["a"],contrast:p["a"],personInfo:v,acceptance:O,process:I["a"],complete:T["a"]},computed:Object(r["a"])({},Object(c["d"])("common",{steps:"steps",currentStep:"currentStep",identifyCard:"identifyCard",binocularCamera:"binocularCamera",businessTypeCode:"businessTypeCode",printId:"printId"}),{},Object(c["d"])("relation",{relationRes:"relationRes"})),data:function(){return{relationCompleteRes:{}}},methods:Object(r["a"])({},Object(c["c"])("common",["changeStep","setSteps","changeTipPage","setPrintInfo"]),{handleBusiness:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["i"])({businessType:"qsgxzm",idNum:e.identifyCard.certNumber,identifiedPhoto:e.binocularCamera});case 2:n=t.sent,n&&"0"===n.code?e.changeStep("down"):n&&e.changeTipPage({message:n.message});case 4:case"end":return t.stop()}}),t)})))()},getModelPre:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$moment(new Date).format("YYYY年MM月DD日"),t.next=3,Object(x["w"])({code:"qsgxzm",body:Object(r["a"])({},e.relationRes,{csrq:e.$moment(e.relationRes.csrq).format("YYYY年MM月DD日"),date:n})});case 3:a=t.sent,a&&"0"===a.code?(e.setPrintInfo(a.result),e.changeStep("down")):a&&e.changeTipPage({message:a.message});case 5:case"end":return t.stop()}}),t)})))()},handlePrint:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(x["y"])({path:Object(S["b"])(e.printId)});case 2:n=t.sent,n&&1===n.code?e.complete():e.changeTipPage({message:"打印机出故障，请稍后重试"});case 4:case"end":return t.stop()}}),t)})))()},complete:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(j["f"])({});case 2:n=t.sent,n&&"0"===n.code?(e.relationCompleteRes=n.result,e.changeStep("down")):n&&e.changeTipPage({message:n.message});case 4:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.setSteps([{name:"身份识别",isActive:!0,visible:!0,key:"identifyCardPage"},{name:"身份识别",isActive:!1,visible:!1,key:"faceYitu"},{name:"身份识别",isActive:!1,visible:!1,key:"contrast"},{name:"身份识别",isActive:!1,visible:!1,key:"process"},{name:"输入亲属身份证号",isActive:!1,visible:!0,key:"acceptance"},{name:"核对信息",isActive:!1,visible:!0,key:"modelPreview"},{name:"核对信息",isActive:!1,visible:!1,key:"personInfo"},{name:"核对信息",isActive:!1,visible:!1,key:"print"},{name:"完成办理",isActive:!1,visible:!0,key:"complete"}])}},P=R,N=Object(b["a"])(P,a,s,!1,null,null,null);t["default"]=N.exports},"9e00":function(e,t,n){},b414:function(e,t,n){},c4c3:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"kd-page-title"},[e._v(" "+e._s(e.pageTitle)+" ")]),n("div",{staticClass:"kd-page-content-wrapper wrap-info"},[e.identifyCard.partyName?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("办理人：")]),n("span",{staticClass:"message"},[e._v(e._s(e.identifyCard.partyName))])]):e._e(),e.data.name?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("申请人：")]),n("span",{staticClass:"message"},[e._v(e._s(e.data.name?e.data.name:e.data.applyName?e.data.applyName:e.identifyCard.partyName))]),n("span",{staticClass:"label"},[e._v("申请业务：")]),n("span",{staticClass:"message"},[e._v(e._s(e.businessTypeName))])]):e._e(),e.data.slh?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("业务受理号：")]),n("span",{staticClass:"message"},[e._v(e._s(e.data.slh))])]):e._e(),e.data.serialNumber?n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("业务流水号：")]),n("span",{staticClass:"message"},[e._v(e._s(e.data.serialNumber))])]):e._e(),n("div",{staticClass:"item"},[n("span",{staticClass:"label"},[e._v("申请日期：")]),n("span",{staticClass:"message"},[e._v(e._s(e.$momentFormat(e.data.applyTime)))])]),e.footTexts?n("div",{staticClass:"footer",domProps:{innerHTML:e._s(e.footTexts)}}):e._e()]),e.$store.state.common.visibleTip?e._e():n("div",{staticClass:"kd-foot-button kd-foot-button-position"},[e.printBut?n("kd-button",{attrs:{icon:"kedaIcon-duigou",text:"打印","button-handle":e.nextStep}}):n("kd-button",{attrs:{icon:"kedaIcon-policework",text:"业务完成",typeClass:"complete"}})],1)])},s=[],i=(n("96cf"),n("1da1")),r=n("5530"),c=n("2f62"),o=n("f23e"),u=n.n(o),p=n("541b"),d=n("b893"),l=n("ed08"),f=n("faf3"),m={name:"Complete",props:{data:{default:{}},footTexts:{default:"温馨提示：业务已受理，请耐心等待！"},pageTitle:{default:"提交完成"},mp3:{default:""},printBut:{default:!1}},computed:Object(r["a"])({},Object(c["d"])("common",{identifyCard:"identifyCard",businessTypeCode:"businessTypeCode",businessTypeName:"businessTypeName",dogHandlePic:"dogHandlePic"}),{},Object(c["d"])("permanent",{BUSINESS_CODE_NAME:"BUSINESS_CODE_NAME"})),mounted:function(){this.audioObj=Object(p["a"])(this.mp3||u.a),this.audioObj.play()},beforeDestroy:function(){this.audioObj.destroy()},methods:{nextStep:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["v"])({printCount:1,base64:Object(d["b"])(e.dogHandlePic)});case 2:n=t.sent,n&&1===n.code?Object(l["d"])():e.changeTipPage({message:n.message,enableBack:!0});case 4:case"end":return t.stop()}}),t)})))()}}},b=m,h=(n("2647"),n("2877")),v=Object(h["a"])(b,a,s,!1,null,"59e28f6f",null);t["a"]=v.exports},ca2a:function(e,t,n){"use strict";var a=n("35f4"),s=n.n(a);s.a},f23e:function(e,t,n){e.exports=n.p+"static/media/10.4d0df920.mp3"}}]);
//# sourceMappingURL=chunk-51d27189.7c2d747b.js.map