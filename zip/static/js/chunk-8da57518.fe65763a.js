(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8da57518"],{"2fda":function(t,e,a){t.exports=a.p+"static/media/15.6d872395.mp3"},"3bf6":function(t,e,a){"use strict";var n=a("b414"),i=a.n(n);i.a},4109:function(t,e,a){"use strict";var n=a("e5c9"),i=a.n(n);i.a},"458f":function(t,e,a){t.exports=a.p+"static/media/100.db2862d4.mp3"},"7c1d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.currentStep===t.steps.findIndex((function(t){return"identifyCardPage"===t.key}))?a("identify-card-page"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"faceYitu"===t.key}))?a("face-yitu"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"contrast"===t.key}))?a("contrast"):t._e(),t.currentStep===t.steps.findIndex((function(t){return"process"===t.key}))?a("process",{attrs:{type:1,"handle-business":t.handleBusiness}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"choiceCar"===t.key}))?a("input-car",{attrs:{nextFunction:t.getCarAllInfo,lastInput:t.lastInput}}):t._e(),t.currentStep===t.steps.findIndex((function(t){return"result"===t.key}))?a("result"):t._e()],1)},i=[],s=(a("7db0"),a("96cf"),a("1da1")),r=a("5530"),c=a("2f62"),o=a("ab27"),u=a("f7ef"),p=a("943e"),l=a("f5a9"),d=a("8a93"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"kd-page-title"},[t._v(" 查询结果 ")]),a("div",{staticClass:"kd-page-content-wrapper wrap-info"},[a("div",{staticClass:"item"},[a("div",{staticClass:"lable"},[t._v(" 号牌种类： ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.mortgageInfo.plateType)+" ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"lable"},[t._v(" 车牌号码： ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.CONSTANT.carTypeName+t.mortgageInfo.plateNumber)+" ")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"lable"},[t._v(" 抵押状态： ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.mortgageInfo.mortgageStatus)+" ")])])]),t.$store.state.common.visibleTip?t._e():a("div",{staticClass:"kd-foot-button kd-foot-button-position"},[a("kd-button",{attrs:{icon:"kedaIcon-circleleft",text:"上一步","button-handle":t.preStep}}),a("kd-button",{attrs:{icon:"kedaIcon-policework",text:"业务完成",typeClass:"complete"}})],1)])},m=[],h={name:"QueryMortgageSignResult",computed:Object(r["a"])({},Object(c["d"])("mortgage",{mortgageInfo:"mortgageInfo"})),method:Object(r["a"])({},Object(c["c"])("common",["changeStep"]),{preStep:function(){this.changeStep("up")}})},g=h,b=(a("4109"),a("2877")),v=Object(b["a"])(g,f,m,!1,null,"45464704",null),y=v.exports,C=a("b775"),T=function(t){return C["a"].ajax("/ssm/mortgageSign/faceRecognition","post",t)},I=function(t){return C["a"].ajax("/ssm/mortgageSign/saveMortgageSign","post",t)},O=a("2435"),S={name:"QueryMortgageSignIndex",components:{identifyCardPage:u["a"],faceYitu:p["a"],contrast:l["a"],inputCar:o["a"],process:d["a"],result:y},data:function(){return{lastInput:!1}},computed:Object(r["a"])({},Object(c["d"])("common",{steps:"steps",currentStep:"currentStep",identifyCard:"identifyCard",binocularCamera:"binocularCamera"})),methods:Object(r["a"])({},Object(c["c"])("common",["setSteps","changeStep","changeTipPage"]),{},Object(c["c"])("mortgage",["setMortgageInfo"]),{handleBusiness:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T({name:t.identifyCard.partyName,identifiedPhoto:t.binocularCamera});case 2:a=e.sent,a&&"0"===a.code?t.changeStep("down"):a&&t.changeTipPage({message:a.message});case 4:case"end":return e.stop()}}),e)})))()},preStep:function(){this.changeStep("up")},getCarAllInfo:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,I({plateType:t.carType,plateNumber:t.carLicense,clsbdm:t.clsbdm,type:1});case 2:n=a.sent,n&&"0"===n.code?(i=O["b"].find((function(t,e){if("02"===t.value)return t})),e.setMortgageInfo({plateType:i.label,plateNumber:t.carLicense,mortgageStatus:"0"===n.result.dybj?"未抵押":"已抵押"}),e.changeStep("down")):n&&e.changeTipPage({message:n.message,imgName:"imgCar",enableBack:!0});case 4:case"end":return a.stop()}}),a)})))()}}),mounted:function(){this.CONSTANT.location!==O["l"].yinchuan&&this.CONSTANT.location!==O["l"].zhongwei||(this.lastInput=!0),this.setSteps([{name:"身份识别",isActive:!0,visible:!0,key:"identifyCardPage"},{name:"身份识别",isActive:!1,visible:!1,key:"faceYitu"},{name:"身份识别",isActive:!1,visible:!1,key:"contrast"},{name:"身份识别",isActive:!1,visible:!1,key:"process"},{name:"输入号牌",isActive:!1,visible:!0,key:"choiceCar"},{name:"查询结果",isActive:!1,visible:!0,key:"result"}])}},k=S,_=Object(b["a"])(k,n,i,!1,null,null,null);e["default"]=_.exports},"83b7":function(t,e,a){t.exports=a.p+"static/img/wait_card.aa7211fb.png"},"8a93":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visibleTip?t._e():a("div",{staticClass:"progress-div"},[a("div",{staticClass:"middle"},[a("div",{staticClass:"topWrap"},[a("img",{staticClass:"waitImg",attrs:{src:t.img,alt:""}}),a("div",{staticClass:"timeWrap"},[t._v(t._s(t.time))])]),a("div",{staticClass:"process-static"},[a("div",{staticClass:"process-active",style:{width:t.percent+"%"}})]),a("p",{staticClass:"text"},[t._v(" "+t._s(t.waitText)+" ")])])])},i=[],s=(a("a9e3"),a("5530")),r=a("83b7"),c=a.n(r),o=a("2f62"),u=a("2fda"),p=a.n(u),l=a("541b"),d={name:"Process",props:{audio:{default:""},goToRoute:{type:String},type:{type:Number},img:{default:c.a},waitText:{default:"正在处理中, 请耐心等待......"},percent:{default:100},handleBusiness:{default:null}},data:function(){return{time:1,intervalId:null}},methods:Object(s["a"])({},Object(o["c"])("common",["changeStep"]),{startTime:function(){var t=this;this.time=1,this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((function(){t.time++}),1e3)}}),computed:Object(s["a"])({},Object(o["d"])("common",{visibleTip:"visibleTip"})),beforeDestroy:function(){this.audioObj.destroy(),clearInterval(this.intervalId)},watch:{type:function(){this.audioObj&&(this.audioObj.destroy(),this.audioObj=null),this.audioObj=Object(l["a"])(this.audio||p.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")},visibleTip:function(){this.visibleTip||(this.goToRoute?this.changeStep(this.goToRoute):this.changeStep("up"))}},mounted:function(){this.audioObj=Object(l["a"])(this.audio||p.a),this.audioObj.play(),this.handleBusiness?(this.startTime(),this.handleBusiness()):this.changeStep("down")}},f=d,m=(a("3bf6"),a("2877")),h=Object(m["a"])(f,n,i,!1,null,"1fc51ae4",null);e["a"]=h.exports},"9d74":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-info"},[a("div",{staticClass:"inputWrap"},[a("el-select",{staticClass:"itemMargin",staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:t.carType,callback:function(e){t.carType=e},expression:"carType"}},t._l(t.carTypeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("span",{staticClass:"car-top itemMargin"},[t._v(t._s(t.carTypeName))]),a("el-select",{staticClass:"itemName",staticStyle:{width:"70px"},attrs:{placeholder:"请选择"},model:{value:t.carFirstName,callback:function(e){t.carFirstName=e},expression:"carFirstName"}},t._l(t.CONSTANT.carFirstName,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1),a("kd-input",{ref:"carLicenseInput",staticClass:"car-content itemMargin",attrs:{"ime-type":0,placeholder:"请输入车牌号码","watch-data":t.getCarLicense,"get-focus":t.getFocus,"upper-case":!0,"limit-number":5}}),t.lastInput?a("kd-input",{ref:"lastInput",staticClass:"engine-content itemMargin",attrs:{"ime-type":0,placeholder:t.lastText,"watch-data":t.getCarEngineCode,"get-focus":t.getFocus,"limit-number":6}}):t._e()],1),a("div",{staticClass:"errorTips"},[t._v(" "+t._s(t.errorTip)+" ")]),a("keyboard",{staticStyle:{width:"90%"},attrs:{"get-keyboard-data":t.getKeyboardData}})],1)},i=[],s=a("5530"),r=a("4b9d"),c=a("2435"),o=a("2f62"),u=a("faf3"),p=a("458f"),l=a.n(p),d=a("541b"),f={name:"CarInput",components:{keyboard:r["a"]},props:{lastText:{default:"请输入发动机编号后六位"},lastInput:{default:!0},getCarInput:{default:Function},mp3:{default:""},carTypeOptions:{type:Array,default:function(){return c["b"]}}},computed:Object(s["a"])({},Object(o["d"])("common",{identifyCard:"identifyCard"})),data:function(){return{carTypeName:this.CONSTANT.carTypeName,carFirstName:this.CONSTANT.carFirstName[0],carType:"02",errorTip:"",errorLast:"",inputVueEl:null}},watch:{carType:function(){this.getCarInput&&this.getCarInput({carType:this.carType})}},mounted:function(){this.audioCar=Object(d["a"])(this.mp3||l.a),this.audioCar.play(),this.$refs.carLicenseInput.startKeyBoard()},beforeDestroy:function(){this.audioCar.destroy(),Object(u["t"])()},methods:{getCarLicense:function(t){this.getCarInput&&(this.isLicenseNo(this.carFirstName+t.toLocaleUpperCase())?(this.getCarInput({carLicense:this.carFirstName+t.toLocaleUpperCase()}),this.errorTip=""):(this.errorTip="请填写正确的机动车信息",this.getCarInput({carLicense:""})))},getCarEngineCode:function(t){this.getCarInput&&(6===t.length?(this.getCarInput({carEngineCode:t.toLocaleUpperCase()}),this.errorTip=""):(this.errorTip="请填写正确的机动车信息",this.getCarInput({carEngineCode:""})))},isLicenseNo:function(t){return 1===this.CONSTANT.location?/^[EU]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/.test(t):/^[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/.test(t)},getKeyboardData:function(t){this.inputVueEl&&this.inputVueEl.mouseClick(t)},getFocus:function(t){this.inputVueEl=t}}},m=f,h=(a("d328"),a("2877")),g=Object(h["a"])(m,n,i,!1,null,"39dca252",null);e["a"]=g.exports},ab27:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"kd-page-title"},[t._v("输入机动车信息")]),a("div",{staticClass:"kd-page-content-wrapper wrap-info"},[a("car-input",{attrs:{carTypeOptions:t.carTypeOptions,"get-car-input":t.getCarInput,"last-input":t.lastInput}})],1),t.$store.state.common.visibleTip?t._e():a("div",{staticClass:"kd-foot-button kd-foot-button-position"},[a("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),a("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"下一步","button-handle":t.nextStep,"but-disable":!t.carLicense||t.lastInput&&!t.carEngineCode}})],1)])},i=[],s=(a("96cf"),a("1da1")),r=a("5530"),c=a("2f62"),o=a("9d74"),u=a("2435"),p={name:"input-car",components:{carInput:o["a"]},data:function(){return{carType:"02",carLicense:"",carEngineCode:""}},props:{nextFunction:{type:Function,default:function(){this.changeStep("down")}},lastInput:{type:Boolean,default:!1},carTypeOptions:{type:Array,default:function(){return u["b"]}}},methods:Object(r["a"])({},Object(c["c"])("common",["changeStep"]),{getCarInput:function(t){void 0!==t.carType&&(this.carType=t.carType),void 0!==t.carLicense&&(this.carLicense=t.carLicense),void 0!==t.carEngineCode&&(this.carEngineCode=t.carEngineCode)},preStep:function(){this.changeStep("up")},nextStep:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.nextFunction({carType:t.carType,carLicense:t.carLicense,clsbdm:t.carEngineCode});case 2:case"end":return e.stop()}}),e)})))()}})},l=p,d=a("2877"),f=Object(d["a"])(l,n,i,!1,null,"5c1b6214",null);e["a"]=f.exports},b313a:function(t,e,a){},b414:function(t,e,a){},d328:function(t,e,a){"use strict";var n=a("b313a"),i=a.n(n);i.a},e5c9:function(t,e,a){}}]);
//# sourceMappingURL=chunk-8da57518.fe65763a.js.map