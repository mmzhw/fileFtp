(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76ae5490"],{"3a3b":function(e,t,a){},"60d4":function(e,t,a){e.exports=a.p+"static/img/socialCard.11b03349.gif"},"8b1ee":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}]},[a("div",{staticClass:"kd-page-title textTop"},[e._v(" 社保卡识别 ")]),a("div",{staticClass:"kd-content-wrapper wrap"},[a("img",{staticClass:"staticCard",attrs:{alt:"",src:e.socialCard}})])]),a("iframe",{directives:[{name:"show",rawName:"v-show",value:2===e.step,expression:"step === 2"}],ref:"iframeWrap",staticClass:"iframeWrap",attrs:{src:e.url}}),e.$store.state.common.visibleTip?e._e():a("div",{staticClass:"kd-foot-button kd-foot-button-position"},[a("kd-button",{attrs:{icon:"kedaIcon-policework",text:"返回首页","type-class":"home"}}),1===e.step&&e.CONSTANT.enableTestButton?a("kd-button",{attrs:{icon:"kedaIcon-circleright",text:"测试下一步","button-handle":e.nextStep}}):e._e()],1)])},c=[],n=a("5530"),s=a("2f62"),o=a("b2eb"),r=a("60d4"),l=a.n(r),d={name:"SocialCheckIndex",computed:Object(n["a"])({},Object(s["d"])("common",{visibleTip:"visibleTip"}),{},Object(s["d"])("permanent",{identifyWebSocket:"identifyWebSocket",lightWebSocket:"lightWebSocket",cardReaderType:"cardReaderType"})),data:function(){return{socialCard:l.a,clockId:null,step:1,timeId:null,url:""}},mounted:function(){this.startReadCard()},beforeDestroy:function(){Object(o["b"])(this.lightWebSocket,"lightCtrl@B4:OFF"),clearTimeout(this.clockId),clearInterval(this.timeId),Object(o["a"])(this.identifyWebSocket,null)},methods:Object(n["a"])({},Object(s["c"])("common",["setSteps","changeStep","changeTipPage"]),{nextStep:function(){Object(o["b"])(this.lightWebSocket,"lightCtrl@B4:OFF"),this.url=this.CONSTANT.olinServer+"/gaytj/police/toIndex.do?aac003=%E6%9B%B9%E5%BF%97%E5%88%9A&aac999=&aac147=320222196811097290",this.step=2;var e=this;e.timeId=setInterval((function(){e.$refs.iframeWrap.contentWindow.document.getElementsByClassName("warp")&&(e.$refs.iframeWrap.contentWindow.document.getElementsByClassName("warp")[0].style.width="100vw",e.$refs.iframeWrap.contentWindow.document.getElementsByClassName("warp")[0].style.height="100vh")}),100)},startReadCard:function(){var e=this;Object(o["b"])(this.lightWebSocket,"lightCtrl@B4:ON"),Object(o["a"])(this.identifyWebSocket,(function(t){if(console.log("社保卡读取：",t),t&&1===t.code){Object(o["b"])(e.lightWebSocket,"lightCtrl@B4:OFF"),e.url=e.CONSTANT.olinServer+"/gaytj/police/toIndex.do?aac003="+t.result.Name+"&aac999=&aac147="+t.result.IdNum,console.log("前往社保地址：",e.url),e.step=2;var a=e;a.timeId=setInterval((function(){a.$refs.iframeWrap.contentWindow.document.getElementsByClassName("warp")&&(a.$refs.iframeWrap.contentWindow.document.getElementsByClassName("warp")[0].style.width="100vw",a.$refs.iframeWrap.contentWindow.document.getElementsByClassName("warp")[0].style.height="100vh")}),100)}else e.clockId&&(clearTimeout(e.clockId),e.clockId=null),e.clockId=setTimeout((function(){Object(o["b"])(e.identifyWebSocket,{directive:"ReadSbCard",module:"T10"})}),2e3)})),Object(o["b"])(this.identifyWebSocket,{directive:"ReadSbCard",module:"T10"})}})},m=d,u=(a("eb21"),a("2877")),b=Object(u["a"])(m,i,c,!1,null,"469d776f",null);t["default"]=b.exports},eb21:function(e,t,a){"use strict";var i=a("3a3b"),c=a.n(i);c.a}}]);
//# sourceMappingURL=chunk-76ae5490.12180978.js.map