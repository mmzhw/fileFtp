{"version":3,"sources":["webpack:///./src/view/businessGuidelines/guidelines/index.vue?7c3f","webpack:///./src/view/businessGuidelines/guidelines/components/search.vue?74f3","webpack:///./src/service/convenient/guidelines.js","webpack:///src/view/businessGuidelines/guidelines/components/search.vue","webpack:///./src/view/businessGuidelines/guidelines/components/search.vue?359e","webpack:///./src/view/businessGuidelines/guidelines/components/search.vue","webpack:///./src/view/businessGuidelines/guidelines/components/record-list.vue?f6b4","webpack:///src/view/businessGuidelines/guidelines/components/record-list.vue","webpack:///./src/view/businessGuidelines/guidelines/components/record-list.vue?7ebc","webpack:///./src/view/businessGuidelines/guidelines/components/record-list.vue","webpack:///src/view/businessGuidelines/guidelines/index.vue","webpack:///./src/view/businessGuidelines/guidelines/index.vue?9381","webpack:///./src/view/businessGuidelines/guidelines/index.vue","webpack:///./src/view/businessGuidelines/guidelines/components/record-list.vue?b5d7","webpack:///./src/view/businessGuidelines/guidelines/components/search.vue?e43c"],"names":["render","_vm","this","_h","$createElement","_c","_self","currentStep","steps","findIndex","step","key","_e","staticRenderFns","staticClass","_v","ref","attrs","getName","searchInfo","directives","name","rawName","value","expression","_l","item","index","list","length","on","$event","chooseItem","class","businessTypeCode","_s","loading","$store","state","common","visibleTip","backMenu","totalPages","canPre","searchInfoDown","canNext","searchInfoUp","guideList","params","request","ajax","guideInfo","message","res","enableBack","component","businessItem","style","top","content","staticStyle","disablePre","changePage","disableNext","businessDetail","height","preStep"],"mappings":"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","file":"static/js/chunk-026ff168.b21696db.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'search'; }))?_c('search'):_vm._e(),(_vm.currentStep === _vm.steps.findIndex(function (step){ return step.key === 'recordList'; }))?_c('recordList'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\" 业务搜索 \")]),_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"inputWrap\"},[_c('kd-full-input',{ref:\"inputName\",staticClass:\"inputBut\",attrs:{\"placeholder\":\"请输入您要搜索的内容\",\"watch-data\":_vm.getName}}),_c('kd-button',{staticClass:\"searchBut\",attrs:{\"text\":\"搜索\",\"button-handle\":_vm.searchInfo}})],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"inputList\"},[_vm._l((_vm.list),function(item,index){return [(_vm.list.length > 0 && index < 5)?_c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.chooseItem(item)}}},[(item.name)?_c('div',{staticClass:\"key\",class:item.businessTypeCode ? 'blue' : 'green'},[_vm._v(\" \"+_vm._s(item.businessTypeCode ? '可办理' : '指南')+\" \")]):_vm._e(),(item.name)?_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")]):_vm._e()]):_vm._e()]}),(!_vm.loading && _vm.list.length <= 0)?_c('div',{staticClass:\"emptyData\"},[_vm._v(\" 暂无数据 \")]):_vm._e()],2)]),(!_vm.$store.state.common.visibleTip)?_c('div',{staticClass:\"kd-foot-button kd-foot-button-position\"},[_c('kd-button',{attrs:{\"icon\":\"kedaIcon-policework\",\"text\":\"返回首页\",\"type-class\":\"home\"}}),_c('kd-button',{attrs:{\"icon\":\"kedaIcon-zhongzhi\",\"text\":\"返回\",\"button-handle\":_vm.backMenu}}),(_vm.totalPages > 1)?_c('kd-button',{attrs:{\"but-disable\":!_vm.canPre(),\"icon\":\"kedaIcon-circleleft1\",\"text\":\"上一页\",\"button-handle\":_vm.searchInfoDown}}):_vm._e(),(_vm.totalPages > 1)?_c('kd-button',{attrs:{\"but-disable\":!_vm.canNext(),\"icon\":\"kedaIcon-circleright1\",\"text\":\"下一页\",\"button-handle\":_vm.searchInfoUp}}):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request';\r\n\r\n/**\r\n * 业务指南\r\n */\r\n\r\nexport const getTopGuidlines = (params) => {\r\n    return request.ajax('/ssm/businessGuide/top', 'get', params);\r\n};\r\n\r\n/**\r\n * 业务指南搜索\r\n * @param params\r\n * @returns {*}\r\n */\r\nexport const guideList = (params) => {\r\n    return request.ajax('/ssm/businessGuide/search', 'get', params);\r\n};\r\n\r\n/**\r\n * 办事指南详情\r\n * @param params\r\n * @returns {*}\r\n */\r\nexport const guideInfo = (params) => {\r\n    return request.ajax('/ssm/businessGuide/guideDetail', 'get', params);\r\n};\r\n","<template>\r\n    <div>\r\n        <div class=\"kd-page-title\">\r\n            业务搜索\r\n        </div>\r\n        <div class=\"wrap\">\r\n            <div class=\"inputWrap\">\r\n                <kd-full-input\r\n                    class=\"inputBut\"\r\n                    placeholder=\"请输入您要搜索的内容\"\r\n                    :watch-data=\"getName\"\r\n                    ref=\"inputName\"\r\n                />\r\n                <kd-button\r\n                    class=\"searchBut\"\r\n                    text=\"搜索\"\r\n                    :button-handle=\"searchInfo\"\r\n                />\r\n            </div>\r\n            <div\r\n                class=\"inputList\"\r\n                v-loading=\"loading\"\r\n            >\r\n                <template v-for=\"(item,index) in list\">\r\n                    <div\r\n                        class=\"item\"\r\n                        @click=\"chooseItem(item)\"\r\n                        :key=\"index\"\r\n                        v-if=\"list.length > 0 && index < 5\"\r\n                    >\r\n                        <div\r\n                            v-if=\"item.name\"\r\n                            class=\"key\"\r\n                            :class=\"item.businessTypeCode ? 'blue' : 'green'\"\r\n                        >\r\n                            {{ item.businessTypeCode ? '可办理' : '指南' }}\r\n                        </div>\r\n                        <div\r\n                            v-if=\"item.name\"\r\n                            class=\"value\"\r\n                        >\r\n                            {{ item.name }}\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n                <div\r\n                    v-if=\"!loading && list.length <= 0\"\r\n                    class=\"emptyData\"\r\n                >\r\n                    暂无数据\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"kd-foot-button kd-foot-button-position\" v-if=\"!$store.state.common.visibleTip\">\r\n            <kd-button\r\n                icon=\"kedaIcon-policework\"\r\n                text=\"返回首页\"\r\n                type-class=\"home\"\r\n            />\r\n            <kd-button\r\n                icon=\"kedaIcon-zhongzhi\"\r\n                text=\"返回\"\r\n                :button-handle=\"backMenu\"\r\n            />\r\n            <kd-button\r\n                v-if=\"totalPages > 1\"\r\n                :but-disable=\"!canPre()\"\r\n                icon=\"kedaIcon-circleleft1\"\r\n                text=\"上一页\"\r\n                :button-handle=\"searchInfoDown\"\r\n            />\r\n            <kd-button\r\n                v-if=\"totalPages > 1\"\r\n                :but-disable=\"!canNext()\"\r\n                icon=\"kedaIcon-circleright1\"\r\n                text=\"下一页\"\r\n                :button-handle=\"searchInfoUp\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport { keyboardHide } from '@/service/common';\r\nimport { guideList, guideInfo } from '../../../../service/convenient/guidelines';\r\nimport { changeRouter } from '@/utils';\r\n\r\nexport default {\r\n    name: 'GuidelinesSearch',\r\n    data () {\r\n        return {\r\n            loading: false,\r\n            list: [],\r\n            name: '',\r\n            totalPages: 1,\r\n            pageNo: 0 // 页码从0开始\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapState('common', {\r\n            identifyCard: 'identifyCard'\r\n        })\r\n    },\r\n    mounted () {\r\n        this.searchInfo();\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['changeStep', 'changeTipPage', 'changeVisible']),\r\n        ...mapMutations('businessGuide', ['setBusinessDetail', 'setBusinessItem']),\r\n        backMenu () {\r\n            this.changeVisible({\r\n                visibleSteps: false,\r\n                visibleTip: false,\r\n                visibleBusinessName: false,\r\n                visibleJurisdiction: false\r\n            });\r\n            changeRouter('/');\r\n        },\r\n        getName (name) {\r\n            this.name = name;\r\n        },\r\n\r\n        canPre () {\r\n            return (this.pageNo + 1) > 1 && (this.pageNo + 1) <= this.totalPages;\r\n        },\r\n\r\n        canNext () {\r\n            return (this.pageNo + 1) < this.totalPages;\r\n        },\r\n        async searchInfoDown () {\r\n            await this.searchInfo(-1);\r\n        },\r\n        async searchInfoUp () {\r\n            await this.searchInfo(1);\r\n        },\r\n        async searchInfo (type) {\r\n            let pageNo = this.pageNo;\r\n\r\n            if (!type) {\r\n                pageNo = 0;\r\n            }\r\n\r\n            if (type === 1) {\r\n                if (this.canNext()) {\r\n                    pageNo = pageNo + 1;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            if (type === -1) {\r\n                if (this.canPre()) {\r\n                    pageNo = pageNo - 1;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            this.loading = true;\r\n\r\n            const res = await guideList({\r\n                name: this.name,\r\n                pageNo: pageNo,\r\n                pageSize: 5\r\n            });\r\n            if (res && res.code === '0') {\r\n                this.pageNo = pageNo;\r\n                this.totalPages = res.result.totalPages;\r\n                this.list = this.complementList(res.result.list, res.result.totalElements);\r\n            } else if (res) {\r\n                this.changeTipPage({\r\n                    message: res.message,\r\n                    enableBack: true\r\n                });\r\n            }\r\n            this.loading = false;\r\n        },\r\n        complementList (list, total) {\r\n            const num = parseInt(total / 5);\r\n            const remainder = list.length % 5;\r\n            if (remainder !== 0) {\r\n                const needNum = num * 5 - list.length;\r\n                for (let i = 0; i < needNum; i++) {\r\n                    list.push({});\r\n                }\r\n            }\r\n            return list;\r\n        },\r\n        async chooseItem (item) {\r\n            const res = await guideInfo({\r\n                businessGuideId: item.id\r\n            });\r\n\r\n            if (res && res.code === '0') {\r\n                this.setBusinessItem(item);\r\n                this.setBusinessDetail(res.result.list);\r\n                this.changeStep('down');\r\n            } else if (res) {\r\n                this.changeTipPage({\r\n                    message: res.message,\r\n                    enableBack: true\r\n                });\r\n            }\r\n        },\r\n\r\n        async initList () {\r\n            this.loading = true;\r\n            // let res = await getTopGuidlines();\r\n            // if (res && res.code === '0') {\r\n            // \tthis.list = res.result.list;\r\n            // }\r\n            this.loading = false;\r\n        }\r\n    },\r\n    beforeDestroy () {\r\n        keyboardHide();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .wrap {\r\n        margin: 0 auto;\r\n        width: 84.37vw;\r\n\r\n        .inputWrap {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n        }\r\n\r\n        .inputBut {\r\n            height: 60px;\r\n            width: 100%;\r\n        }\r\n\r\n        .searchBut {\r\n            margin-left: 20px;\r\n            height: 60px;\r\n            background: linear-gradient(180deg, rgba(251, 149, 39, 1) 0%, rgba(255, 115, 20, 1) 100%);\r\n        }\r\n\r\n        .inputList {\r\n            margin-top: 3vw;\r\n            background: linear-gradient(180deg, rgba(112, 163, 216, 0.7) 0%, rgba(58, 132, 191, 0.7) 100%);\r\n            height: 43.8vh;\r\n            border-radius: 6px;\r\n            border: 1PX solid rgba(255, 255, 255, .6);/*no*/\r\n            display: flex;\r\n            flex-direction: column;\r\n            box-sizing: border-box;\r\n            overflow: hidden;\r\n            justify-content: space-evenly;\r\n\r\n            ::v-deep .el-loading-mask {\r\n                background: rgba(255, 255, 255, 0.3);\r\n            }\r\n\r\n            .emptyData {\r\n                width: 100%;\r\n                height: 100%;\r\n                font-size: 32px;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                color: #ffffff;\r\n            }\r\n\r\n            .item {\r\n                display: flex;\r\n                align-items: center;\r\n                color: #ffffff;\r\n                margin: 0 6vw;\r\n                border-radius: 6px;\r\n                height: 3vw;\r\n\r\n                .key {\r\n                    width: 7vw;\r\n                    height: 3vw;\r\n                    border-radius: 4px;\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    font-size: 16px;\r\n                    margin-right: 1.5vw;\r\n                }\r\n\r\n                .value {\r\n                    flex: 1;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    font-size: 19.2px;\r\n                    overflow: hidden; //超出的文本隐藏\r\n                    text-overflow: ellipsis; //溢出用省略号显示\r\n                    white-space: nowrap; //溢出不换\r\n                }\r\n\r\n                .blue {\r\n                    background: #0981FF;\r\n                }\r\n\r\n                .green {\r\n                    background: #69DD00;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=8e838eba&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=8e838eba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e838eba\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"kd-page-title\"},[_vm._v(\" 业务指南 \")]),_c('div',{staticClass:\"kd-page-content-wrapper wrap\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"key\",class:_vm.businessItem.businessTypeCode ? 'blue' : 'green'},[_vm._v(\" \"+_vm._s(_vm.businessItem.businessTypeCode ? '可办理' : '指南')+\" \")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.businessItem.name)+\" \")])]),_c('div',{ref:\"wrapHeight\",staticClass:\"detailWrap\"},[_c('div',{ref:\"detailContent\",staticClass:\"content\",style:({top:'-' + _vm.top + 'px'})},_vm._l((_vm.businessDetail),function(item,index){return _c('div',{key:index,staticClass:\"detailItem\"},[_c('p',[_vm._v(_vm._s(item.name))]),_c('p',[_vm._v(_vm._s(item.content))])])}),0)])]),_c('div',{staticClass:\"right\"},[_c('el-button',{staticStyle:{\"transform\":\"rotateZ(180deg)\"},attrs:{\"disabled\":_vm.disablePre},on:{\"click\":function($event){return _vm.changePage(-1)}}},[_c('i',{staticClass:\"kedaIconfont kedaIcon-sanjiaozhankai\"})]),_c('el-button',{attrs:{\"disabled\":_vm.disableNext},on:{\"click\":function($event){return _vm.changePage(1)}}},[_c('i',{staticClass:\"kedaIconfont kedaIcon-sanjiaozhankai\"})])],1)]),(!_vm.$store.state.common.visibleTip)?_c('div',{staticClass:\"kd-foot-button kd-foot-button-position\"},[_c('kd-button',{attrs:{\"disabled\":_vm.top <= 0,\"icon\":\"kedaIcon-policework\",\"text\":\"返回首页\",\"type-class\":\"home\"}}),_c('kd-button',{attrs:{\"disabled\":_vm.top >= _vm.businessDetail.length * _vm.height - 30,\"icon\":\"kedaIcon-chexiao1\",\"text\":\"返回\",\"button-handle\":_vm.preStep}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"kd-page-title\">\r\n            业务指南\r\n        </div>\r\n        <div class=\"kd-page-content-wrapper wrap\">\r\n            <div class=\"left\">\r\n                <div class=\"item\">\r\n                    <div\r\n                        class=\"key\"\r\n                        :class=\"businessItem.businessTypeCode ? 'blue' : 'green'\"\r\n                    >\r\n                        {{ businessItem.businessTypeCode ? '可办理' : '指南' }}\r\n                    </div>\r\n                    <div class=\"value\">\r\n                        {{ businessItem.name }}\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    class=\"detailWrap\"\r\n                    ref=\"wrapHeight\"\r\n                >\r\n                    <div\r\n                        ref=\"detailContent\"\r\n                        class=\"content\"\r\n                        :style=\"{top:'-' + top + 'px'}\"\r\n                    >\r\n                        <div\r\n                            class=\"detailItem\"\r\n                            v-for=\"(item, index) in businessDetail\"\r\n                            :key=\"index\"\r\n                        >\r\n                            <p>{{ item.name }}</p>\r\n                            <p>{{ item.content }}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"right\">\r\n                <el-button\r\n                    :disabled=\"disablePre\"\r\n                    @click=\"changePage(-1)\"\r\n                    style=\"transform: rotateZ(180deg);\"\r\n                >\r\n                    <i class=\"kedaIconfont kedaIcon-sanjiaozhankai\"/>\r\n                </el-button>\r\n                <el-button\r\n                    :disabled=\"disableNext\"\r\n                    @click=\"changePage(1)\"\r\n                >\r\n                    <i class=\"kedaIconfont kedaIcon-sanjiaozhankai\"/>\r\n                </el-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"kd-foot-button kd-foot-button-position\" v-if=\"!$store.state.common.visibleTip\">\r\n            <kd-button\r\n                :disabled=\"top <= 0\"\r\n                icon=\"kedaIcon-policework\"\r\n                text=\"返回首页\"\r\n                type-class=\"home\"\r\n            />\r\n            <kd-button\r\n                :disabled=\"top >= businessDetail.length * height - 30\"\r\n                icon=\"kedaIcon-chexiao1\"\r\n                text=\"返回\"\r\n                :button-handle=\"preStep\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\n\r\nexport default {\r\n    name: 'GuidelinesResultList',\r\n    data () {\r\n        return {\r\n            top: 0,\r\n            height: 50,\r\n            disablePre: true,\r\n            disableNext: true\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapState('businessGuide', {\r\n            businessItem: 'businessItem',\r\n            businessDetail: 'businessDetail'\r\n        })\r\n    },\r\n    mounted () {\r\n        this.checkState();\r\n    },\r\n    watch: {\r\n        top () {\r\n            this.checkState();\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['changeStep', 'changeTipPage']),\r\n        checkState () {\r\n            this.disablePre = this.top <= 0;\r\n            if (this.$refs.detailContent && this.$refs.wrapHeight) {\r\n                this.disableNext = this.top >= this.$refs.detailContent.clientHeight - this.$refs.wrapHeight.clientHeight;\r\n            } else {\r\n                this.disableNext = false;\r\n            }\r\n        },\r\n        preStep () {\r\n            this.changeStep('up');\r\n        },\r\n        canPre () {\r\n            return this.top > 0;\r\n        },\r\n        canNext () {\r\n            return this.top < this.$refs.detailContent.clientHeight - this.$refs.wrapHeight.clientHeight;\r\n        },\r\n        changePage (type) {\r\n            if (type === -1 && this.canPre()) {\r\n                this.top = this.top - this.height;\r\n            } else if (type === 1 && this.canNext()) {\r\n                this.top = this.top + this.height;\r\n            }\r\n        }\r\n    }\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n    .wrap {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        .left {\r\n            flex: 1;\r\n            height: 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n\r\n            .detailWrap {\r\n                flex: 1;\r\n                width: calc(100% - 6vw);\r\n                box-sizing: border-box;\r\n                margin: 0 0 3vw 6vw;\r\n                overflow: hidden;\r\n                position: relative;\r\n                border-radius: 8px;\r\n\r\n                .content {\r\n                    position: absolute;\r\n                    z-index: 9;\r\n                    left: 0;\r\n                    top: 0;\r\n                    width: 100%;\r\n                    background: linear-gradient(180deg, rgba(118, 187, 240, 1) 0%, rgba(67, 160, 229, 1) 100%);\r\n\r\n                    .detailItem {\r\n                        display: flex;\r\n                        border-bottom: 1px solid #B3D5F1;\r\n\r\n                        p {\r\n                            height: 100%;\r\n                        }\r\n\r\n                        p:nth-child(1) {\r\n                            width: 15vw;\r\n                            padding: 1vw 0;\r\n                            box-sizing: border-box;\r\n                            color: #ffffff;\r\n                            display: flex;\r\n                            justify-content: center;\r\n                            align-items: center;\r\n                        }\r\n\r\n                        p:nth-child(2) {\r\n                            flex: 1;\r\n                            height: 100%;\r\n                            color: #3C4B78;\r\n                            padding: 1vw 3vw;\r\n                            box-sizing: border-box;\r\n                            background: rgba(255, 255, 255, 0.8);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .right {\r\n            width: 12%;\r\n            height: 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n            ::v-deep .el-button {\r\n                margin: 20px 0;\r\n                color: #ffffff;\r\n                width: 70px;\r\n                height: 70px;\r\n                font-size: 22px;\r\n                background: linear-gradient(180deg, rgba(137, 189, 242, 1) 0%, rgba(79, 153, 225, 1) 100%);\r\n                border-radius: 8px;\r\n                border: 1PX solid;/*no*/\r\n\r\n            }\r\n\r\n            ::v-deep .el-button.is-disabled, .el-button.is-disabled:focus, .el-button.is-disabled:hover {\r\n                cursor: auto;\r\n            }\r\n\r\n            ::v-deep .el-button.is-disabled {\r\n                background: linear-gradient(#C5D7EA, #A5BFD8);\r\n            }\r\n        }\r\n\r\n        .item {\r\n            display: flex;\r\n            align-items: center;\r\n            color: #ffffff;\r\n            margin: 2vw 0 1.5vw 6vw;\r\n            border-radius: 6px;\r\n\r\n            .key {\r\n                width: 7vw;\r\n                height: 3vw;\r\n                border-radius: 4px;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                font-size: 16px;\r\n                margin-right: 1.5vw;\r\n            }\r\n\r\n            .value {\r\n                flex: 1;\r\n                display: flex;\r\n                align-items: center;\r\n                font-size: 19.2px;\r\n            }\r\n\r\n            .blue {\r\n                background: #0981FF;\r\n            }\r\n\r\n            .green {\r\n                background: #69DD00;\r\n            }\r\n        }\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./record-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./record-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./record-list.vue?vue&type=template&id=b0ace464&scoped=true&\"\nimport script from \"./record-list.vue?vue&type=script&lang=js&\"\nexport * from \"./record-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./record-list.vue?vue&type=style&index=0&id=b0ace464&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0ace464\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <search v-if=\"currentStep === steps.findIndex(step=>step.key === 'search')\"/>\r\n        <recordList v-if=\"currentStep === steps.findIndex(step=>step.key === 'recordList')\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport search from '@/view/businessGuidelines/guidelines/components/search';\r\nimport recordList from '@/view/businessGuidelines/guidelines/components/record-list';\r\n\r\nexport default {\r\n    name: 'GuidelinesIndex',\r\n    components: {\r\n        search,\r\n        recordList\r\n    },\r\n    computed: {\r\n        ...mapState('common', {\r\n            steps: 'steps',\r\n            currentStep: 'currentStep'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapMutations('common', ['setSteps'])\r\n    },\r\n    mounted () {\r\n        this.setSteps([\r\n            {\r\n                name: '业务搜索',\r\n                isActive: true,\r\n                visible: true,\r\n                key: 'search'\r\n            },\r\n            {\r\n                name: '业务说明',\r\n                isActive: false,\r\n                visible: true,\r\n                key: 'recordList'\r\n            }\r\n        ]);\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d95f201a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./record-list.vue?vue&type=style&index=0&id=b0ace464&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./record-list.vue?vue&type=style&index=0&id=b0ace464&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=8e838eba&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=8e838eba&lang=scss&scoped=true&\""],"sourceRoot":""}